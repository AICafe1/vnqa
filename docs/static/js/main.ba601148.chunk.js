/*! For license information please see main.ba601148.chunk.js.LICENSE.txt */
(this.webpackJsonpvnqa=this.webpackJsonpvnqa||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){a(102),a(103)},102:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(6),l=window.dfd,c=l.Series,i=l.DataFrame,o=function(){function e(t,a){Object(n.a)(this,e),this.index=t.index,this.series=[];for(var r=0,l=t.index.length;r<l;)++r<a?this.series.push(NaN):this.series.push(t.iloc(["".concat(r-a,":").concat(r)]))}return Object(r.a)(e,[{key:"apply",value:function(e){return new c(this.series.map((function(t){return t&&e(t)})),{index:this.index})}}]),e}();c.prototype.rolling=function(e){return new o(this,e)};var s=function(){function e(t,a){Object(n.a)(this,e),this.index=t.index,this.columns=t.columns,this.dtypes=t.dtypes,this.df=[];for(var r=0,l=t.index.length;r<l;)++r<a?this.df.push(NaN):this.df.push(t.iloc({rows:["".concat(r-a,":").concat(r)]}))}return Object(r.a)(e,[{key:"apply",value:function(e){var t=this.columns.map((function(){return NaN}));return new i(this.df.map((function(a){return a?e(a):t})),{index:this.index,columns:this.columns,dtypes:this.dtypes})}}]),e}();i.prototype.rolling=function(e){return new s(this,e)}},103:function(e,t){window.dfd.Series.prototype.dropnall=function(e){for(var t=this.values,a=this.index,n=[],r=[],l=0,c=t.length;l<c;l++){var i=t[l];isNaN(i)||null===i||void 0===i||(n.push(i),r.push(a[l]))}if(e.inplace)return this.$setValues(n,!1),this.$setIndex(r),this;var o=this.copy();return o.$setValues(n,!1),o.$setIndex(r),o}},120:function(e,t,a){},121:function(e,t,a){},197:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),l=a.n(r),c=a(54),i=a(15),o=a(24),s=a.n(o),u=(a(100),a(101),window.wp);function m(){return"administrator"===u.role}function d(){return"subscriber"!==u.role}function p(){if(u.hasOwnProperty("videos"))return u.videos;try{var e=JSON.parse(u.page);e.yt&&e.yt.length?u.videos=e.yt.filter((function(e){return e[1]})):u.videos=!1}catch(t){u.videos=!1}return u.videos}function h(){return!!p()&&"Video "+u.role}function f(e){return e&&"aicafe_one_logged_out"===e.code?window.location.reload():e}function v(e){return fetch("".concat(u.api).concat(e).concat(-1===e.indexOf("?")?"?":"&","_wpnonce=").concat(u.nonce)).then((function(e){return e.json()})).then(f)}function g(e,t){return fetch("".concat(u.api).concat(e).concat(-1===e.indexOf("?")?"?":"&","_wpnonce=").concat(u.nonce),{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then(f)}function b(){return!d()&&l.a.createElement("i",{className:"bi bi-file-lock text-danger float-end"})}window.wp=void 0,u.role||(window.location.href=u.url||"https://aicafe.one/vnqa",exit());var y=a(30),E=["Com"];function w(e){var t=e.Com,a=Object(y.a)(e,E);return d()?l.a.createElement(t,a):l.a.createElement("div",{className:"my-5 py-5"},l.a.createElement("center",{className:"my-5"},l.a.createElement("h5",{className:"my-3"},"T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n kh\xf4ng th\u1ec3 truy c\u1eadp t\xednh n\u0103ng n\xe0y"),l.a.createElement("h4",null,"Vui l\xf2ng li\xean h\u1ec7 ",l.a.createElement("a",{href:"https://aicafe.one"},"AI Cafe\xb9")," \u0111\u1ec3 n\xe2ng c\u1ea5p t\xe0i kho\u1ea3n")))}function x(e){var t=e.light,a=e.expand,c=Object(r.useState)(!1),i=Object(n.a)(c,2),o=i[0],s=i[1],m=Object(r.useState)({}),d=Object(n.a)(m,2),p=d[0],h=d[1];return Object(r.useEffect)((function(){v("wp/v2/users/me").then((function(e){h({name:e.name,avatar:e.avatar_urls[48]})}))}),[]),l.a.createElement("div",{className:"dropdown"},l.a.createElement("div",{className:"d-flex align-items-center link-".concat(t?"dark":"light"," ").concat(a?"dropdown-toggle":"px-2"," show"),role:"button",onClick:function(){return s((function(e){return!e}))}},l.a.createElement("img",{src:p.avatar,alt:"avatar",width:32,height:32,className:"rounded-circle me-2"}),a&&l.a.createElement("strong",null,p.name)),l.a.createElement("ul",{className:"dropdown-menu text-small shadow",style:{display:o?"block":"none",bottom:"40px"}},l.a.createElement("li",null,l.a.createElement("a",{className:"dropdown-item",href:u.api.replace("json/","admin/profile.php")},"Trang c\xe1 nh\xe2n")),l.a.createElement("li",null,l.a.createElement("hr",{className:"dropdown-divider"})),l.a.createElement("li",null,l.a.createElement("a",{className:"dropdown-item",href:u.url.replace(/&amp;/g,"&")},"\u0110\u0103ng xu\u1ea5t"))))}var N,k,j,O=a(14),C=a(5),M=a(6),S=a(8),T=a(7),D=a(40),F=!document.getElementById("df");if(u.hasOwnProperty("vnqa"))try{N=u.vnqa?JSON.parse(u.vnqa):{},delete u.vnqa}catch(Qa){N={}}var P={arrayMerge:function(e,t){return t}};function L(){return!N&&F?(k||(k=v("aicafe/v1/app/vnqa").then((function(e){return N=Array.isArray(e)?{}:e})).catch((function(){return N={}}))),k):new Promise((function(e){return e(N)}))}function I(e){return N=window.deepmerge(N,e,P),F&&(j&&clearTimeout(j),j=setTimeout((function(){return g("aicafe/v1/app/vnqa",N)}),9e3)),N}function _(e){var t=Object(r.useState)(N),a=Object(n.a)(t,2),l=a[0],c=a[1];Object(r.useEffect)((function(){L().then(c)}),[]);var i=Object(r.useCallback)((function(t){c(I(e?Object(O.a)({},e,t):t))}),[e]);return[e?l&&l[e]:l,i]}var z=!document.getElementById("df"),q=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"componentWillUnmount",value:function(){this.lazy&&clearTimeout(this.lazy)}},{key:"memoize",value:function(e,t){for(var a=this.memoize[t],n=arguments.length,r=new Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l];return a&&!r.some((function(e,t){return e!==a.deps[t]}))||(a=this.memoize[t]={result:e.apply(void 0,r),deps:r}),a.result}},{key:"memoizeState",value:function(e){var t=this,a=this.memoizeState[e];return(!a||Object.keys(this.state).some((function(e){return t.state[e]!==a.state[e]}))||Object.keys(this.props).some((function(e){return t.props[e]!==a.props[e]})))&&(a=this.memoizeState[e]={result:this[e](this.state),state:this.state,props:this.props}),a.result}},{key:"setStateLazy",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;this.lazy&&clearTimeout(this.lazy),this.lazyState=this.lazyState?Object.assign(this.lazyState,e):e,this.lazy=setTimeout((function(){t.setState(t.lazyState),t.lazyState=!1}),a)}},{key:"getSettings",value:function(e,t){z&&L().then((function(a){return t(e?a[e]:a)}))}},{key:"getSettingsSync",value:function(e){return z&&(e?N&&N[e]:N)}},{key:"saveSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z&&I(e)}}]),a}(l.a.Component),A=window.dfd.DataFrame,R=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={ticker:"",window:20,rf:5},n.getSettingsSync()?(n.state.ticker=n.getSettingsSync(n.getKey())||n.state.ticker,n.state.window=n.getSettingsSync("window")||n.state.window,n.state.rf=n.getSettingsSync("rf")||n.state.rf):n.getSettings(!1,(function(e){if(n.props.df instanceof A){var t=e[n.getKey()];t&&t!==n.state.ticker&&n.setState({ticker:t})}e.window&&e.window!==n.state.window&&n.setState({window:e.window}),e.rf&&e.rf!==n.state.rf&&n.setState({rf:e.rf})})),n.changeRf=n.changeRf.bind(Object(D.a)(n)),n}return Object(M.a)(a,[{key:"getKey",value:function(){return this.props.market?"idx":"ticker"}},{key:"changeTicker",value:function(e){this.state.ticker!==e&&(this.saveSettings(Object(O.a)({},this.getKey(),e)),this.setState({ticker:e}))}},{key:"changeWindow",value:function(e){e=(e=parseInt(e.target.value))>1?e:this.state.window,this.saveSettings({window:e}),this.setState({window:e})}},{key:"changeRf",value:function(e){e=parseFloat(e.target.value),this.saveSettings({rf:e}),this.setState({rf:e})}}]),a}(q),B=a(11);function V(e,t,a,n,r){if(r-2<n)return e[n]===t?n+a:e[r]===t?r+a:t<e[n]?n:r;var l=n+r>>1;return t<e[l]?V(e,t,a,n,l):e[l]<t?V(e,t,a,l,r):l+a}var H=function(e,t){var a=document.getElementById(e);a.plotZoom||(a.plotZoom=function(t){var n=Object.keys(t);if(!n.find((function(e){return"y"===e[0]}))){if(!n.find((function(e){return e.startsWith("xaxis.range")||e.startsWith("xaxis.autorange")})))return;var r={},l=a.layout.xaxis.range;a._fullLayout.xaxis._counterAxes.forEach((function(e){var t="yaxis"+e.slice(1),n="log"===a.layout[t].type,c=a._fullLayout[t]._traceIndices.map((function(e){var t=a.data[e],n=V(t.x,l[0],!1,0,t.x.length),r=V(t.x,l[1],!0,n,t.x.length);if(n<r){var c=t.y.slice(n,r).filter((function(e){return!isNaN(e)}));return[Math.min.apply(Math,Object(B.a)(c)),Math.max.apply(Math,Object(B.a)(c))]}return!1})).filter((function(e){return!!e}));if(c.length){var i=Math.min.apply(Math,Object(B.a)(c.map((function(e){return e[0]})))),o=Math.max.apply(Math,Object(B.a)(c.map((function(e){return e[1]}))));r["".concat(t,".range[0]")]=n?Math.log10(i):i,r["".concat(t,".range[1]")]=n?Math.log10(o):o}})),window.Plotly.relayout(e,r)}}),a.on("plotly_relayout",a.plotZoom),!t||a.on("plotly_legendclick",t)};function U(e,t){for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];"object"===typeof n&&e.hasOwnProperty(a)?U(e[a],n):e[a]=n}return e}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={margin:{l:40,r:8,b:32,t:40,pad:0}};return window.innerWidth<768&&(t.dragmode=!1),"dark"===document.querySelector("html").dataset.bsTheme&&(t.template={layout:{paper_bgcolor:"#212529",plot_bgcolor:"#212529",font:{color:"#DEE2E6"},xaxis:{gridcolor:"#283442"},yaxis:{gridcolor:"#283442",fixedrange:!0}}}),U(t,e)}var $=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"memoize",value:function(e,t){for(var a=this.memoize[t],n=arguments.length,r=new Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l];return a&&!r.some((function(e,t){return e!==a.deps[t]}))||(a=this.memoize[t]={result:e.apply(void 0,r),deps:r}),a.result}},{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.df,n=e.columns;n||(n=a.columns);var r=this.memoize((function(){for(var e=[{x:a[n[0]].index,y:a[n[0]].values,name:n[0]}],t=[["xy"]],r=n.length-1,l=1;l<=r;l++){var c=l===r?l:l+1;e.push({x:a[n[l]].index,y:a[n[l]].values,name:n[l],xaxis:"x",yaxis:"y".concat(c)}),t.push(["xy".concat(c)])}return{data:e,rows:r,subplots:t}}),"x",a,n),l=r.data,c=r.rows,i=r.subplots;window.Plotly.newPlot(t,l,W({xaxis:{showspikes:!0,spikemode:"toaxis+across+marker",spikesnap:"cursor"},yaxis:{type:"log"},grid:{rows:c,columns:1,subplots:i},showlegend:!1})),H(t)}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){return l.a.createElement("div",{id:this.props.id})}}]),a}(l.a.Component),G=a(41),K=a(93),J=["options","value"];function Q(e){var t,a=e.options,n=e.value,r=Object(y.a)(e,J),c=function(e){return{value:e,label:e}};return l.a.createElement(K.a,Object.assign({},r,{classNamePrefix:"vnqa",value:n&&{value:n,label:n},defaultOptions:a.slice(0,10).map(c),loadOptions:function(e,n){clearTimeout(t),t=setTimeout((function(){var t,r=[],l=e.toUpperCase(),i=Object(G.a)(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.includes(l)&&r.push(c(o)),r.length>9)break}}catch(s){i.e(s)}finally{i.f()}n(r)}),100)}}))}var Y=window.jStat;function X(e){for(var t=0,a=0,n=0,r=e.length;n<r;n++){var l=e[n];if(l<a){var c=(a-l)/a;c>t&&(t=c)}else a=l}return 100*t}function Z(e){for(var t,a=0,n=0,r=0,l=e.length;r<l;r++){var c=e[r];c<n?t++:(t>a&&(a=t),n=c,t=0)}return t>a&&(a=t),a}function ee(e){var t=Y.mean(e);return Math.sqrt(e.reduce((function(e,a){return a<0?e+Math.pow(t+a,2):e}),0)/e.length)}var te=a(13),ae=a(10),ne=a(50),re=a.n(ne),le=(a(120),function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,a=0,n={},r={util:{encode:function e(t){return t instanceof l?new l(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++a}),e.__id},clone:function e(t,a){var n,l;switch(a=a||{},r.util.type(t)){case"Object":if(l=r.util.objId(t),a[l])return a[l];for(var c in n={},a[l]=n,t)t.hasOwnProperty(c)&&(n[c]=e(t[c],a));return n;case"Array":return l=r.util.objId(t),a[l]?a[l]:(n=[],a[l]=n,t.forEach((function(t,r){n[r]=e(t,a)})),n);default:return t}},getLanguage:function(e){for(;e;){var a=t.exec(e.className);if(a)return a[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,a){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+a)},currentScript:function(){if("undefined"===typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(n){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(n.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var a in t)if(t[a].src==e)return t[a]}return null}},isActive:function(e,t,a){for(var n="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(n))return!1;e=e.parentElement}return!!a}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(e,t){var a=r.util.clone(r.languages[e]);for(var n in t)a[n]=t[n];return a},insertBefore:function(e,t,a,n){var l=(n=n||r.languages)[e],c={};for(var i in l)if(l.hasOwnProperty(i)){if(i==t)for(var o in a)a.hasOwnProperty(o)&&(c[o]=a[o]);a.hasOwnProperty(i)||(c[i]=l[i])}var s=n[e];return n[e]=c,r.languages.DFS(r.languages,(function(t,a){a===s&&t!=e&&(this[t]=c)})),c},DFS:function e(t,a,n,l){l=l||{};var c=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){a.call(t,i,t[i],n||i);var o=t[i],s=r.util.type(o);"Object"!==s||l[c(o)]?"Array"!==s||l[c(o)]||(l[c(o)]=!0,e(o,a,i,l)):(l[c(o)]=!0,e(o,a,null,l))}}},plugins:{},highlight:function(e,t,a){var n={code:e,grammar:t,language:a};if(r.hooks.run("before-tokenize",n),!n.grammar)throw new Error('The language "'+n.language+'" has no grammar.');return n.tokens=r.tokenize(n.code,n.grammar),r.hooks.run("after-tokenize",n),l.stringify(r.util.encode(n.tokens),n.language)},tokenize:function(e,t){var a=t.rest;if(a){for(var n in a)t[n]=a[n];delete t.rest}var u=new i;return o(u,u.head,e),function e(t,a,n,i,u,m){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var h=0;h<p.length;++h){if(m&&m.cause==d+","+h)return;var f=p[h],v=f.inside,g=!!f.lookbehind,b=!!f.greedy,y=f.alias;if(b&&!f.pattern.global){var E=f.pattern.toString().match(/[imsuy]*$/)[0];f.pattern=RegExp(f.pattern.source,E+"g")}for(var w=f.pattern||f,x=i.next,N=u;x!==a.tail&&!(m&&N>=m.reach);N+=x.value.length,x=x.next){var k=x.value;if(a.length>t.length)return;if(!(k instanceof l)){var j,O=1;if(b){if(!(j=c(w,N,t,g))||j.index>=t.length)break;var C=j.index,M=j.index+j[0].length,S=N;for(S+=x.value.length;C>=S;)x=x.next,S+=x.value.length;if(S-=x.value.length,N=S,x.value instanceof l)continue;for(var T=x;T!==a.tail&&(S<M||"string"===typeof T.value);T=T.next)O++,S+=T.value.length;O--,k=t.slice(N,S),j.index-=N}else if(!(j=c(w,0,k,g)))continue;C=j.index;var D=j[0],F=k.slice(0,C),P=k.slice(C+D.length),L=N+k.length;m&&L>m.reach&&(m.reach=L);var I=x.prev;F&&(I=o(a,I,F),N+=F.length),s(a,I,O);var _=new l(d,v?r.tokenize(D,v):D,y,D);if(x=o(a,I,_),P&&o(a,x,P),O>1){var z={cause:d+","+h,reach:L};e(t,a,n,x.prev,N,z),m&&z.reach>m.reach&&(m.reach=z.reach)}}}}}}(e,u,t,u.head,0),function(e){var t=[],a=e.head.next;for(;a!==e.tail;)t.push(a.value),a=a.next;return t}(u)},hooks:{all:{},add:function(e,t){var a=r.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=r.hooks.all[e];if(a&&a.length)for(var n,l=0;n=a[l++];)n(t)}},Token:l};function l(e,t,a,n){this.type=e,this.content=t,this.alias=a,this.length=0|(n||"").length}function c(e,t,a,n){e.lastIndex=t;var r=e.exec(a);if(r&&n&&r[1]){var l=r[1].length;r.index+=l,r[0]=r[0].slice(l)}return r}function i(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function o(e,t,a){var n=t.next,r={value:a,prev:t,next:n};return t.next=r,n.prev=r,e.length++,r}function s(e,t,a){for(var n=t.next,r=0;r<a&&n!==e.tail;r++)n=n.next;t.next=n,n.prev=t,e.length-=r}return e.Prism=r,l.stringify=function e(t,a){if("string"==typeof t)return t;if(Array.isArray(t)){var n="";return t.forEach((function(t){n+=e(t,a)})),n}var l={type:t.type,content:e(t.content,a),tag:"span",classes:["token",t.type],attributes:{},language:a},c=t.alias;c&&(Array.isArray(c)?Array.prototype.push.apply(l.classes,c):l.classes.push(c)),r.hooks.run("wrap",l);var i="";for(var o in l.attributes)i+=" "+o+'="'+(l.attributes[o]||"").replace(/"/g,"&quot;")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'"'+i+">"+l.content+"</"+l.tag+">"},r}(window));le.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},le.languages.python["string-interpolation"].inside.interpolation.inside.rest=le.languages.python,le.languages.py=le.languages.python;var ce=le,ie=(a(121),function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).pre=l.a.createRef(),n.state={min:Date.now()-n.props.timestamp>1e3&&!n.props.code.endsWith("|")},n.state.typing=!n.state.min,n}return Object(M.a)(a,[{key:"highlight",value:function(e){if(!this.state.typing){var t=e.indexOf("\n");-1===t?e+="   ":e=e.slice(0,t)+"   "+e.slice(t)}return ce.highlight(e,ce.languages.py)}},{key:"toggle",value:function(){var e,t,a=null!==(e=null===(t=this.props.python)||void 0===t?void 0:t.code)&&void 0!==e?e:this.props.code;this.state.min?this.pre.current.innerHTML=this.highlight(a):this.pre.current.innerHTML=this.highlight(a.slice(0,a.indexOf("\n"))),this.setState({min:!this.state.min})}},{key:"componentDidMount",value:function(){var e=this,t=this.pre.current;if(this.state.min)t.innerHTML=this.highlight(this.props.code.slice(0,this.props.code.indexOf("\n")));else{var a=0;setTimeout((function n(r){var l,c,i=document.getElementById("messages"),o=null!==(l=null===(c=e.props.python)||void 0===c?void 0:c.code)&&void 0!==l?l:e.props.code,s=o.endsWith("|");o=s?o.slice(0,-1):o;var u=Math.floor((Date.now()-a-e.props.timestamp)/48),m=!!i&&i.scrollTop>i.scrollHeight-i.offsetHeight-60;t.innerHTML=e.highlight(o.slice(0,u)),m&&(i.scrollTop=i.scrollHeight),u<o.length?(t.innerHTML+="\u258e",setTimeout(n,48)):s?(t.innerHTML+="&nbsp;",setTimeout((function(e){t.innerHTML=t.innerHTML.slice(0,-6)+"\u258e",a+=1e3,setTimeout(n,500)}),500)):setTimeout((function(t){e.setState({typing:!1}),e.toggle()}),500)}),48)}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"rcw-response"},l.a.createElement("div",null,!this.state.typing&&l.a.createElement("div",{style:{float:"right",position:"relative",top:"12px",right:"34px",padding:"0 4px",cursor:"pointer"},onClick:function(t){return e.toggle()}},l.a.createElement("i",{className:this.state.min?"bi bi-chevron-down":"bi bi-chevron-up"})),l.a.createElement("pre",{className:"rcw-message-text",ref:this.pre})))}}]),a}(l.a.Component)),oe=a(92),se=a(80),ue=a.n(se),me=a(81),de=a.n(me),pe=a(82),he=a.n(pe),fe=a(83),ve=a.n(fe),ge=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).pre=l.a.createRef(),n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=ue()({break:!0}).use(de.a).use(he.a).use(ve.a,{attrs:{target:"_blank",rel:"noopener"}}),t=this.props.text,a=this.pre.current;if(Date.now()-this.props.timestamp>1e3)a.innerHTML=e.render(t);else{var n=1,r=t.length;setTimeout((function l(){if(n++<r){var c=document.getElementById("messages"),i=!!c&&c.scrollTop>c.scrollHeight-c.offsetHeight-20;a.innerHTML=e.render(t.slice(0,n)+"\u258e"),i&&(c.scrollTop=c.scrollHeight),setTimeout(l,16)}else a.innerHTML=e.render(t)}),16)}}},{key:"render",value:function(){return l.a.createElement("div",{className:"rcw-response"},l.a.createElement("div",{className:"rcw-message-text",ref:this.pre}),l.a.createElement("span",{className:"rcw-timestamp"},Object(oe.a)(this.props.timestamp,"d/M hh:mm a")))}}]),a}(l.a.Component),be="\n\nVui l\xf2ng li\xean h\u1ec7 [AI Cafe\xb9](https://aicafe.one) \u0111\u1ec3 n\xe2ng c\u1ea5p t\xe0i kho\u1ea3n",ye="T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n kh\xf4ng th\u1ec3 truy c\u1eadp t\xednh n\u0103ng n\xe0y"+be;function Ee(e){try{var t,a=JSON.parse(null!==(t=localStorage.getItem("chats"))&&void 0!==t?t:"[]");for(a.push(e);a.length;)try{return localStorage.setItem("chats",JSON.stringify(a))}catch(r){var n=a.findIndex((function(e){return JSON.stringify(e).length>5e3}));n<0?a.shift():a.splice(n,1)}}catch(l){}}function we(e){return function(e){return e<0?"-":""}(e)+Math.abs(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}var xe=["AI Cafe\xb9","B\u1ea1n","Nh\u1edd AI","AI Cafe","AI"],Ne=["ph\xe2n t\xedch","\u0111\xe1nh gi\xe1","nh\u1eadn \u0111\u1ecbnh"],ke=["gi\xf9m","gi\xfap","h\u1ed9","v\u1ec1","th\xeam v\u1ec1","s\xe2u h\u01a1n"];function je(e){return e[Math.floor(Math.random()*e.length)]}var Oe,Ce="",Me=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(C.a)(this,a),(e=t.call(this)).enableInput=function(t){return e.setState({disable:!1})},e.disableInput=function(t){return e.setState({disable:!0})},e.handleNewUserMessage=function(t){var a=e.enableInput,n=e.disableInput;return Object(ae.setQuickButtons)([]),d()?u.aichated>=u.aichat?Object(ae.addResponseMessage)("B\u1ea1n \u0111\xe3 d\xf9ng h\u1ebft **".concat(we(u.aichat),"** tokens!").concat(be)):(n(),Object(ae.toggleMsgLoader)(),"string"===typeof t?Ee({prompt:t.replaceAll("\n","\n\n")}):(Ee({prompt:Ce+t.prompt.slice(9)+"?"}),t=JSON.stringify(t)),void g("aicafe/v1/app/aichat",{prompt:t}).then((function(e){return e.remain<0?(Object(ae.toggleMsgLoader)(),Object(ae.addResponseMessage)("B\u1ea1n \u0111\xe3 d\xf9ng h\u1ebft **".concat(we(u.aichat),"** tokens!").concat(be))):e.text?(Object(ae.toggleMsgLoader)(),a(),Ee(e.text),Object(ae.addResponseMessage)(e.text)):void setTimeout((function n(){fetch(e.url).then((function(e){return e.json()})).then((function(e){function r(){if(e.images&&e.images.length){var t=e.images.map((function(e,t){return"![".concat(t,"](").concat(e,")")})).join("\n&nbsp;");Ee(t),Object(ae.addResponseMessage)(t)}e.text&&(Object(ae.toggleMsgLoader)(),Ee({text:e.text,timestamp:Date.now()}),Object(ae.renderCustomComponent)(ge,{text:e.text,timestamp:Date.now()},!0)),e.suggestions?(a(),e.suggestions.length>9&&Object(ae.setQuickButtons)(e.suggestions.split("\n").filter((function(e){return e.length>3})).map((function(e){return e=e.trim(),".:".includes(e[1])&&(e=e.slice(3)),{label:e,value:e}})))):setTimeout(n,e.text?16*e.text.length+3e3:3e3)}if(e.code){var l=0;e.code.endsWith("|")?t?(l=t.code.length,t.code=e.code):(t={code:e.code,timestamp:Date.now()},Object(ae.renderCustomComponent)(ie,Object(te.a)(Object(te.a)({},t),{},{python:t}),!0)):t?(l=t.code.length,t.code=e.code,Ee(t),t=!1):(Object(ae.renderCustomComponent)(ie,{code:e.code,timestamp:Date.now()},!0),Ee({code:e.code,timestamp:Date.now()})),setTimeout(r,48*Math.max(e.code.length-l,62)+(e.images&&e.images.length?2e3:0))}else r()})).catch((function(e){setTimeout(n,3e3)}))}),3e3);var t})).catch((function(e){a(),Object(ae.toggleMsgLoader)()}))):Object(ae.addResponseMessage)(ye)},e.handleQuickButtonClicked=function(t){Object(ae.addUserMessage)(t.replaceAll("\n","\n\n")),e.handleNewUserMessage(t)},e.changePrompt=function(t){e.text=t.target,e.updateText()},e.sendMessage=function(t){if(!e.state.disable&&e.state.prompt){var a=e.state.prompt.trim();e.text.value="",e.updateText(),e.handleQuickButtonClicked(a)}},e.state={},a.sendPrompt=function(t){Object(ae.isWidgetOpened)()||Object(ae.toggleWidget)(),Ce="".concat(je(xe)," ").concat(je(Ne)," ").concat(je(ke)),Object(ae.addUserMessage)(Ce+t.prompt.slice(9)+"?"),e.handleNewUserMessage(t)},e}return Object(M.a)(a,[{key:"componentDidMount",value:function(){Object(ae.toggleInputDisabled)();var e=this.disableInput;try{var t=localStorage.getItem("chats");!t||JSON.parse(t).forEach((function(e){"string"===typeof e?Object(ae.addResponseMessage)(e):e.prompt?Object(ae.addUserMessage)(e.prompt):e.text?Object(ae.renderCustomComponent)(ge,e,!0):e.code&&Object(ae.renderCustomComponent)(ie,e,!0)})),!t||Object(ae.setBadgeCount)(0)}catch(a){}if(!d()||!u.aichat)return e(),Object(ae.addResponseMessage)(ye),Object(ae.setBadgeCount)(0);Object(ae.addResponseMessage)("*Xin ch\xe0o,*\n\n*T\xf4i l\xe0 AI Cafe\xb9 Stock Analyst, t\xf4i c\xf3 th\u1ec3 gi\xfap b\u1ea1n ph\xe2n t\xedch d\u1eef li\u1ec7u ch\u1ee9ng kho\xe1n Vi\u1ec7t Nam.*\n\n*T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n c\xf2n **".concat(we(u.aichat-u.aichated),"** tokens!*")),Object(ae.setQuickButtons)(["Ph\xe2n t\xedch returns c\u1ee7a VNINDEX","\u0110\xe1nh gi\xe1 r\u1ee7i ro VNINDEX theo returns","Clear"].map((function(e){return{label:e,value:e}})))}},{key:"updateText",value:function(){this.text.style.height=0;var e=Math.max(30,Math.min(this.text.scrollHeight,230));this.text.style.height="".concat(e,"px");var t=this.text.parentElement.querySelector("svg"),a=Math.max(6,(e>>1)-12);t.style.paddingBottom="".concat(a,"px"),t.style.height="".concat(a+32,"px"),document.querySelector(".rcw-sender .rcw-new-message").style.height="".concat(Math.max(46,e+10),"px"),this.state.prompt!==this.text.value&&this.setState({prompt:this.text.value})}},{key:"render",value:function(){var e=this,t=this.state.disable||!this.state.prompt;return l.a.createElement("div",{className:this.state.fs?"rcw-full":""},l.a.createElement(ae.Widget,{handleNewUserMessage:this.handleNewUserMessage,handleQuickButtonClicked:this.handleQuickButtonClicked,title:l.a.createElement(l.a.Fragment,null,"AI Cafe\xb9 Stock Analyst",l.a.createElement("div",{className:"rwc-lines"},l.a.createElement("textarea",{placeholder:"Type a message...",style:{height:"30px"},disabled:this.state.disable,onChange:this.changePrompt,onFocus:this.changePrompt,defaultValue:this.state.prompt}),l.a.createElement("div",{style:{cursor:t?"default":"pointer"},onClick:this.sendMessage},l.a.createElement("svg",{style:{paddingBottom:"6px",height:"38px"},xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"25px",viewBox:"0 0 535.5 535.5"},l.a.createElement("g",{id:"send"},l.a.createElement("polygon",{points:"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75",fill:t?"#cbcbcb":"#0d6efd"})))))),subtitle:l.a.createElement("div",{style:{cursor:"pointer"},onClick:function(t){return e.setState({fs:!e.state.fs})}},l.a.createElement("i",{className:this.state.fs?"bi bi-fullscreen-exit":"bi bi-fullscreen"})),profileAvatar:re.a,showTimeStamp:!1}))}}]),a}(l.a.Component),Se=window,Te=Se.PortfolioAnalytics,De=Se.Plotly,Fe=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.df;De.newPlot(t,[{x:a.index,y:this.memoize((function(){return Te.drawdownFunction(a.values).map((function(e){return-e}))}),"d",a),fill:"tozeroy",line:{color:"#ff7f0e"}}],W())}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("div",{className:"card-header"},"Drawdown"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{id:this.props.id})))}}]),a}(R),Pe=window.dfd.DataFrame,Le=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"volatility",value:function(e){var t=this.props.df,a=e.ticker,n=e.window;t instanceof Pe&&(a&&t.hasOwnProperty(a)||(a=t.columns[0],e.ticker=a),t=t[a]),t.dropnall({inplace:!0});var r=t.apply(Math.log);(t=new Pe(Object(O.a)({},t.columns[0],t.values),{index:t.index})).addColumn({values:r.sub([NaN].concat(r.values.slice(0,-1))),column:"returns",inplace:!0});var l=(new Date(t.index[t.index.length-1])-new Date(t.index[0]))/315576e5,c=Math.sqrt((t.index.length-1)/l);return t.addColumn({values:t.returns.rolling(n).apply((function(e){return e.std()*c})),column:"volatility",inplace:!0}),t.addColumn({values:t.returns.rolling(n).apply((function(e){return ee(e.$data)*c})),column:"semi-deviation",inplace:!0}),e.df=t,e}},{key:"render",value:function(){var e=this,t=this.memoizeState("volatility"),a=t.df.volatility;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"\u0110\u1ed9 bi\u1ebfn \u0111\u1ed9ng",this.props.df instanceof Pe&&l.a.createElement(l.a.Fragment,null,"\xa0c\u1ee7a",l.a.createElement(Q,{className:"d-inline-flex ms-2",onChange:function(t){return e.changeTicker(t.value)},value:t.ticker||this.props.df.columns[0],options:this.props.df.columns})),"\xa0trong",l.a.createElement("input",{className:"d-inline-flex ms-2 form-control",style:{width:"70px"},type:"number",value:t.window,onChange:function(t){return e.changeWindow(t)}}),"\xa0ng\xe0y",l.a.createElement("button",{type:"button",className:"btn text-primary float-end px-1",onClick:function(n){return Me.sendPrompt({prompt:"ph\xe2n t\xedch \u0111\u1ed9 bi\u1ebfn \u0111\u1ed9ng c\u1ee7a ".concat(e.props.df instanceof Pe?t.ticker||e.props.df.columns[0]:e.props.label||"danh m\u1ee5c"),data:["T\u1eeb ng\xe0y: ".concat(a.index[0]),"\u0110\u1ebfn ng\xe0y: ".concat(a.index[a.index.length-1])].concat(a.describe().$index.map((function(e,t){return"".concat(e,": ").concat(+(100*a.describe().$data[t]).toFixed(2),"%")})).slice(1))})}},l.a.createElement("img",{width:24,height:24,style:{marginTop:"-4px"},src:re.a,alt:"AI"})," Ph\xe2n t\xedch")),l.a.createElement("div",{className:"card-body"},t.df&&l.a.createElement($,{id:this.props.id,df:t.df}))),t.df&&l.a.createElement("div",{className:"mt-3"},l.a.createElement(Fe,{id:this.props.id+"Drawdown",df:t.df[t.df.columns[0]]})))}}]),a}(R),Ie=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id;e.sf.plot(t).hist({layout:W(this.props)})}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){return l.a.createElement("div",{id:this.props.id})}}]),a}(l.a.Component);function _e(e){var t=e.ec,a=e.id,c=Object(r.useRef)(null),i=l.a.useState(0),o=Object(n.a)(i,2),s=o[0],u=o[1];return Object(r.useEffect)((function(){t.plot(a).line({layout:W({yaxis:{type:"log"}})}),H(a);var e=setInterval((function(){var e=c.current,t=e.querySelector(".svg-container");t&&Math.abs(t.clientWidth-e.clientWidth)>9&&u(s+1)}),1e3);return function(){return clearInterval(e)}}),[t,a,s]),l.a.createElement("div",{id:a,ref:c})}function ze(){var e=l.a.useState([]),t=Object(n.a)(e,2),a=t[0],c=t[1],i=l.a.useState(null),o=Object(n.a)(i,2),s=o[0],u=o[1];Object(r.useEffect)((function(){if(a.length){for(var e,t=new window.dfd.DataFrame((e={},Object(O.a)(e,a[0].name,a[0].ec.values),Object(O.a)(e,"date",a[0].ec.index),e)),n=1;n<a.length;n++){var r,l=new window.dfd.DataFrame((r={},Object(O.a)(r,a[n].name,a[n].ec.values),Object(O.a)(r,"date",a[n].ec.index),r));t=window.dfd.merge({left:t,right:l,on:["date"]})}t=(t=t.set_index({column:"date",drop:!0})).div(t.values[0],{axis:1}),u(t)}else u(null)}),[a]);var m=Object(r.useRef)(null);return Object(r.useEffect)((function(){Oe=function(e,t,n){e=e.replace("danh m\u1ee5c ","").replace(" ph\xe2n b\u1ed5 v\u1ed1n theo",":"),a.find((function(t){return t.name===e}))||(c([].concat(Object(B.a)(a),[{name:e,ec:t,stats:n}])),u(null)),new window.bootstrap.Modal(m.current).show()}}),[m,a]),l.a.createElement("div",{className:"modal fade",tabIndex:"-1","aria-hidden":"true",ref:m,style:{zIndex:99999}},l.a.createElement("div",{className:"modal-dialog ".concat(a.length?"modal-fullscreen":""," modal-dialog-scrollable")},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header justify-content-between"},l.a.createElement("h1",{className:"modal-title fs-3"},"So s\xe1nh"),l.a.createElement("div",{className:"p-1"},l.a.createElement("button",{type:"button",className:"btn text-danger",onClick:function(){return c([])},style:{marginTop:"-.25em"}},l.a.createElement("i",{className:"bi bi-trash"})),l.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"}))),l.a.createElement("div",{className:"modal-body"},a.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"table table-borderless table-striped table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),a.map((function(e,t){return l.a.createElement("th",{key:t},l.a.createElement("button",{type:"button",className:"btn text-danger p-0 m-0",onClick:function(){return c(a.filter((function(t){return t!==e})))}},l.a.createElement("i",{className:"bi bi-x-lg"})),e.name)})))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1eeb ng\xe0y"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.ec.index[0])}))),l.a.createElement("tr",null,l.a.createElement("td",null,"\u0110\u1ebfn ng\xe0y"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.ec.index[e.ec.index.length-1])}))),l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1ef7 l\u1ec7 t\u0103ng tr\u01b0\u1edfng h\xe0ng n\u0103m (CAGR)"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.cagr,"%")}))),l.a.createElement("tr",null,l.a.createElement("td",null,"L\u1ee3i nhu\u1eadn trung b\xecnh n\u0103m"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.returns,"%")}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Bi\u1ebfn \u0111\u1ed9ng trung b\xecnh n\u0103m"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.volatility,"%")}))),l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1ef7 l\u1ec7 Sharpe"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.sharpe)}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Max Drawdown"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.md,"%")}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Max Drawdown Duration"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.mdd," ng\xe0y")}))),l.a.createElement("tr",null,l.a.createElement("td",null,"\u0110\u1ed9 l\u1ec7ch (Skew)"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.skew)}))),l.a.createElement("tr",null,l.a.createElement("td",null,"\u0110\u1ed9 nh\u1ecdn (Kurtosis)"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.kurtosis)}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Gi\xe1 tr\u1ecb ch\u1ecbu r\u1ee7i ro h\xe0ng ng\xe0y (VAR 95%)"),a.map((function(e,t){return l.a.createElement("td",{key:t},e.stats.var,"%")}))))),l.a.createElement("h4",{className:"mt-4"},"\u0110\u01b0\u1eddng cong v\u1ed1n"),s&&l.a.createElement(_e,{id:"compare",ec:s})):"Vui l\xf2ng th\xeam m\xe3 ch\u1ee9ng kho\xe1n ho\u1eb7c danh m\u1ee5c \u0111\u1ec3 so s\xe1nh"))))}function qe(e){var t=e.rf,a=e.onChange;return l.a.createElement("div",{className:"dropdown d-inline-block ms-1"},l.a.createElement("div",{role:"button","data-bs-toggle":"dropdown"},l.a.createElement("i",{class:"bi bi-question-circle"})),l.a.createElement("ul",{className:"dropdown-menu dropdown-menu-end shadow"},l.a.createElement("li",{className:"mx-3 my-2"},l.a.createElement("label",{className:"form-label"},"L\xe3i su\u1ea5t phi r\u1ee7i ro"),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"number",class:"form-control",value:t,onChange:a}),l.a.createElement("span",{class:"input-group-text"},"%")))))}var Ae=window.jStat,Re=window.dfd.DataFrame,Be=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"returns",value:function(e){var t=this.props.df,a=e.ticker||this.state.ticker;t instanceof Re&&(a&&t.hasOwnProperty(a)||(a=t.columns[0],e.ticker=a),t=t[a]),t.dropnall({inplace:!0});var n=t.apply(Math.log);return e.df=t,e.returns=n.iloc(["1:"]).sub(n.values.slice(0,-1)),e}},{key:"render",value:function(){var e=this,t=this.memoizeState("returns"),a=t.returns,n=t.df,r=t.ticker,c=t.rf,i=this.memoize((function(){var e=(new Date(n.index[n.index.length-1])-new Date(n.index[0]))/315576e5,t=(n.index.length-1)/e;return{cagr:(100*Math.expm1(Math.log(n.values[n.values.length-1]/n.values[0])/e)).toFixed(2),returns:(a.mean()*t*100).toFixed(2),volatility:(a.std()*Math.sqrt(t)*100).toFixed(2),sharpe:((a.mean()-c/100/t)/a.std()*Math.sqrt(t)).toFixed(2),md:X(n.values).toFixed(2),mdd:Z(n.values),skew:Ae.skewness(a.values).toFixed(2),kurtosis:Ae.kurtosis(a.values).toFixed(2),var:(100*Ae.percentile(a.values,.05)).toFixed(2)}}),"stats",a);return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"L\u1ee3i nhu\u1eadn",this.props.df instanceof Re&&l.a.createElement(l.a.Fragment,null,"\xa0c\u1ee7a",l.a.createElement(Q,{className:"d-inline-flex ms-2",onChange:function(t){return e.changeTicker(t.value)},value:r||this.props.df.columns[0],options:this.props.df.columns})),l.a.createElement("button",{type:"button",className:"btn text-primary float-end px-1 ".concat(this.props.df instanceof Re?"":"py-0"),onClick:function(t){return Me.sendPrompt({prompt:"ph\xe2n t\xedch l\u1ee3i nhu\u1eadn c\u1ee7a ".concat(e.props.df instanceof Re?r||e.props.df.columns[0]:e.props.label||"danh m\u1ee5c"),data:["T\u1eeb ng\xe0y: ".concat(n.index[0]),"\u0110\u1ebfn ng\xe0y: ".concat(n.index[n.index.length-1]),"CAGR: ".concat(i.cagr,"%"),"L\u1ee3i nhu\u1eadn trung b\xecnh n\u0103m: ".concat(i.returns,"%"),"Bi\u1ebfn \u0111\u1ed9ng trung b\xecnh n\u0103m: ".concat(i.volatility,"%"),"Sharpe ratio: ".concat(i.sharpe),"Max Drawdown: ".concat(i.md,"%"),"Max Drawdown Duration: ".concat(i.mdd," ng\xe0y"),"Skewness: ".concat(i.skew),"Kurtosis: ".concat(i.kurtosis),"Daily VaR (95%): ".concat(i.var,"%")]})}},l.a.createElement("img",{width:24,height:24,style:{marginTop:"-4px"},src:re.a,alt:"AI"})," Ph\xe2n t\xedch"),l.a.createElement("button",{type:"button",className:"btn text-primary float-end px-1 ".concat(this.props.df instanceof Re?"":"py-0"," me-2"),onClick:function(t){return Oe(e.props.df instanceof Re?r||e.props.df.columns[0]:e.props.short||"Danh m\u1ee5c",n,i)}},l.a.createElement("i",{className:"bi bi-plus-square"})," So s\xe1nh")),a?l.a.createElement("div",{className:"card-body row"},l.a.createElement("div",{className:"col-md-6 mt-4"},l.a.createElement("table",{className:"table table-borderless table-striped table-hover"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1eeb ng\xe0y"),l.a.createElement("td",null,n.index[0])),l.a.createElement("tr",null,l.a.createElement("td",null,"\u0110\u1ebfn ng\xe0y"),l.a.createElement("td",null,n.index[n.index.length-1])),l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1ef7 l\u1ec7 t\u0103ng tr\u01b0\u1edfng h\xe0ng n\u0103m (CAGR)"),l.a.createElement("td",null,i.cagr,"%")),l.a.createElement("tr",null,l.a.createElement("td",null,"L\u1ee3i nhu\u1eadn trung b\xecnh n\u0103m"),l.a.createElement("td",null,i.returns,"%")),l.a.createElement("tr",null,l.a.createElement("td",null,"Bi\u1ebfn \u0111\u1ed9ng trung b\xecnh n\u0103m"),l.a.createElement("td",null,i.volatility,"%")),l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1ef7 l\u1ec7 Sharpe ",l.a.createElement(qe,{rf:c,onChange:this.changeRf})),l.a.createElement("td",null,i.sharpe)),l.a.createElement("tr",null,l.a.createElement("td",null,"Max Drawdown"),l.a.createElement("td",null,i.md,"%")),l.a.createElement("tr",null,l.a.createElement("td",null,"Max Drawdown Duration"),l.a.createElement("td",null,i.mdd," ng\xe0y")),l.a.createElement("tr",null,l.a.createElement("td",null,"\u0110\u1ed9 l\u1ec7ch (Skew)"),l.a.createElement("td",null,i.skew)),l.a.createElement("tr",null,l.a.createElement("td",null,"\u0110\u1ed9 nh\u1ecdn (Kurtosis)"),l.a.createElement("td",null,i.kurtosis)),l.a.createElement("tr",null,l.a.createElement("td",null,"Gi\xe1 tr\u1ecb ch\u1ecbu r\u1ee7i ro h\xe0ng ng\xe0y (VAR 95%)"),l.a.createElement("td",null,i.var,"%"))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(Ie,{id:this.props.id,sf:a,title:"Ph\xe2n b\u1ed1 l\u1ee3i nhu\u1eadn"}))):"")}}]),a}(R),Ve=window,He=Ve.jStat,Ue=Ve.Plotly,We=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.x,n=e.y,r=He.min(a),l=He.max(a),c=He(this.model?this.model.coef:[0,1]),i=[{x:a,y:n,mode:"markers",type:"scatter"},{x:[r,l],y:[c.dot([1,r]),c.dot([1,l])],mode:"lines"}];Ue.newPlot(t,i,W({showlegend:!1}))}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){return this.model=He.models.ols(this.props.y,this.props.x.map((function(e){return[1,e]}))),l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"text-center my-3"},this.props.title),l.a.createElement("table",{className:"table table-borderless table-striped table-hover"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"coef"),l.a.createElement("td",null,this.model.coef.join(", "))),l.a.createElement("tr",null,l.a.createElement("td",null,"t test P-value"),l.a.createElement("td",null,this.model.t.p.join(", "))),l.a.createElement("tr",null,l.a.createElement("td",null,"f test P-value"),l.a.createElement("td",null,this.model.f.pvalue)),l.a.createElement("tr",null,l.a.createElement("td",null,"R2"),l.a.createElement("td",null,this.model.R2)))),l.a.createElement("div",{id:this.props.id}))}}]),a}(l.a.Component),$e=window.dfd.DataFrame,Ge=window.jStat,Ke=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"volatility",value:function(e){var t=this.props.df,a=e.ticker,n=e.window;t instanceof $e&&(a&&t.hasOwnProperty(a)||(a=t.columns[0],e.ticker=a),t=t[a]),t.dropnall({inplace:!0});for(var r=t.apply(Math.log),l=r.iloc(["1:"]).sub(r.values.slice(0,-1)).values,c=[],i=[],o=0,s=l.length;o<s;o+=n){var u=l.slice(o,o+n);c.push(Ge.mean(u)),i.push(Ge.stdev(u))}return e.retx=c.slice(0,-1),e.rety=c.slice(1),e.volx=i.slice(0,-1),e.voly=i.slice(1),e}},{key:"render",value:function(){var e=this,t=this.volatility(this.state);return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"M\xf4 h\xecnh tuy\u1ebfn t\xednh d\u1ef1 b\xe1o",this.props.df instanceof $e&&l.a.createElement(l.a.Fragment,null,"\xa0cho",l.a.createElement(Q,{className:"d-inline-flex ms-2",onChange:function(t){return e.changeTicker(t.value)},value:t.ticker||this.props.df.columns[0],options:this.props.df.columns})),"\xa0trong",l.a.createElement("input",{className:"d-inline-flex ms-2 form-control",style:{width:"70px"},type:"number",value:t.window,onChange:function(t){return e.changeWindow(t)}}),"\xa0ng\xe0y"),l.a.createElement("div",{className:"card-body row"},l.a.createElement("div",{className:"col-md-6"},t.retx&&l.a.createElement(We,{id:this.props.id+"Ret",x:t.retx,y:t.rety,title:"D\u1ef1 b\xe1o l\u1ee3i nhu\u1eadn"})),l.a.createElement("div",{className:"col-md-6"},t.volx&&l.a.createElement(We,{id:this.props.id+"Vol",x:t.volx,y:t.voly,title:"D\u1ef1 b\xe1o \u0111\u1ed9 bi\u1ebfn \u0111\u1ed9ng"}))))}}]),a}(R),Je=a(84),Qe=a.n(Je),Ye=(a(186),a(51)),Xe=a.n(Ye),Ze=a(85),et=a.n(Ze),tt=a(16);function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=function(r){Object(S.a)(i,r);var c=Object(T.a)(i);function i(){return Object(C.a)(this,i),c.apply(this,arguments)}return Object(M.a)(i,[{key:"render",value:function(){var r=new tt.PivotData(this.props),c=r.getRowKeys(),i=r.getColKeys(),o=n?i:c;0===o.length&&o.push([]);var s=n?c:i;0===s.length&&s.push([]);var u=this.props.aggregatorName,m=this.props.aggregators[u]([])().numInputs||0;0!==m&&(u+=" of ".concat(this.props.vals.slice(0,m).join(", ")));var d=o.map((function(e){var a,l=[],c=[],i=Object(G.a)(s);try{for(i.s();!(a=i.n()).done;){var o=a.value,m=parseFloat(r.getAggregator(n?o:e,n?e:o).value());l.push(isFinite(m)?m:null),c.push(o.join("-")||" ")}}catch(p){i.e(p)}finally{i.f()}var d={name:e.join("-")||u};return"pie"===t.type?(d.values=l,d.labels=c.length>1?c:[u]):(d.x=n?l:c,d.y=n?c:l),Object.assign(d,t)})),p=u,h=n?this.props.rows.join("-"):this.props.cols.join("-"),f=n?this.props.cols.join("-"):this.props.rows.join("-");""!==h&&(p+=" vs ".concat(h)),""!==f&&(p+=" by ".concat(f));var v={title:p,hovermode:"closest",width:window.innerWidth*(window.innerWidth<768?.7:.6)-96,height:.6*window.innerHeight,margin:{l:60,b:8,t:56}};if("pie"===t.type){var g=Math.ceil(Math.sqrt(d.length)),b=Math.ceil(d.length/g);v.grid={columns:g,rows:b},d.forEach((function(e,t){e.domain={row:Math.floor(t/g),column:t-g*Math.floor(t/g)},d.length>1&&(e.title=e.name)})),1===d[0].labels.length&&(v.showlegend=!1)}else v.xaxis={title:n?u:null,automargin:!0},v.yaxis={title:n?null:u,automargin:!0};return l.a.createElement(e,{data:d,layout:Object.assign(W(v),a,this.props.plotlyOptions),config:this.props.plotlyConfig,onUpdate:this.props.onRendererUpdate})}}]),i}(l.a.PureComponent);return r.defaultProps=Object.assign({},tt.PivotData.defaultProps,{plotlyOptions:{},plotlyConfig:{}}),r}function nt(e){var t=function(t){Object(S.a)(n,t);var a=Object(T.a)(n);function n(){return Object(C.a)(this,n),a.apply(this,arguments)}return Object(M.a)(n,[{key:"render",value:function(){var t=new tt.PivotData(this.props),a=t.getRowKeys(),n=t.getColKeys();0===a.length&&a.push([]),0===n.length&&n.push([]);var r={x:[],y:[],text:[],type:"scatter",mode:"markers"};a.forEach((function(e){n.forEach((function(a){var n=t.getAggregator(e,a).value();null!==n&&(r.x.push(a.join("-")),r.y.push(e.join("-")),r.text.push(n))}))}));var c={title:this.props.rows.join("-")+" vs "+this.props.cols.join("-"),hovermode:"closest",xaxis:{title:this.props.cols.join("-"),automargin:!0},yaxis:{title:this.props.rows.join("-"),automargin:!0},width:window.innerWidth*(window.innerWidth<768?.7:.6)-96,height:.6*window.innerHeight};return l.a.createElement(e,{data:[r],layout:Object.assign(c,this.props.plotlyOptions),config:this.props.plotlyConfig,onUpdate:this.props.onRendererUpdate})}}]),n}(l.a.PureComponent);return t.defaultProps=Object.assign({},tt.PivotData.defaultProps,{plotlyOptions:{},plotlyConfig:{}}),t}var rt=et()(window.Plotly);function lt(e){var t=Math.min.apply(Math,e),a=Math.max.apply(Math,e);return function(e){if("dark"===document.querySelector("html").dataset.bsTheme)return e>0?{backgroundColor:"rgb(26,".concat(29+Math.round(155*e/a),",32)")}:e<0?{backgroundColor:"rgb(".concat(26+Math.round(226*e/t),",29,32)")}:{backgroundColor:"rgb(26,29,32)"};if(e>0){var n=255-Math.round(255*e/a);return{backgroundColor:"rgb("+n+",255,"+n+")"}}if(e<0){var r=255-Math.round(255*e/t);return{backgroundColor:"rgb(255,"+r+","+r+")"}}return{}}}var ct,it=Object.assign({},Xe.a,{"Grouped Column Chart":at(ct=rt,{type:"bar"},{barmode:"group"}),"Stacked Column Chart":at(ct,{type:"bar"},{barmode:"relative"}),"Grouped Bar Chart":at(ct,{type:"bar",orientation:"h"},{barmode:"group"},!0),"Stacked Bar Chart":at(ct,{type:"bar",orientation:"h"},{barmode:"relative"},!0),"Line Chart":at(ct),"Dot Chart":at(ct,{mode:"markers"},{},!0),"Area Chart":at(ct,{stackgroup:1}),"Scatter Chart":nt(ct),"Multiple Pie Chart":at(ct,{type:"pie",scalegroup:1,hoverinfo:"label+value",textinfo:"none"},{},!0)});function ot(e){return isNaN(e)||!isFinite(e)?"":Math.abs(e)>=1e8?e.toExponential(2):(e<0?"-":"")+Math.floor(Math.abs(e.toFixed(2))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+(Math.abs(e)%1).toFixed(2).replace(/0*$/,"").replace(/\.$/,"").substr(1)}function st(e){return ot(Math.exp(e))}function ut(e){return ot(100*Math.expm1(e))}tt.aggregators["Exp Sum"]=tt.aggregatorTemplates.sum(st),tt.aggregators["Exp Avg"]=tt.aggregatorTemplates.average(st),tt.aggregators["Exp Stdev"]=tt.aggregatorTemplates.stdev(1,st),tt.aggregators["Exp % Sum"]=tt.aggregatorTemplates.sum(ut),tt.aggregators["Exp % Avg"]=tt.aggregatorTemplates.average(ut),tt.aggregators["Exp % Stdev"]=tt.aggregatorTemplates.stdev(1,ut);var mt=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(Qe.a,Object.assign({onChange:function(t){return e.setState(t)},renderers:it,tableColorScaleGenerator:lt},this.props,this.state,{data:this.props.data}))}}]),a}(l.a.Component),dt=window.dfd,pt=dt.DataFrame,ht=dt.Series,ft=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"seasonal",value:function(e){var t=this.props.df,a=e.ticker;t instanceof pt&&(a&&t.hasOwnProperty(a)||(a=t.columns[0],e.ticker=a),t=t[a]),t.dropnall({inplace:!0});var n=t.apply(Math.log);t=new pt({returns:n.iloc(["1:"]).sub(n.values.slice(0,-1)).values},{index:t.index.slice(1)});var r=new ht(t.index).dt;return t.addColumn({values:r.year(),column:"year",inplace:!0}),t.addColumn({values:r.month().add(1),column:"month",inplace:!0}),t.addColumn({values:r.day().add(1),column:"day of week",inplace:!0}),t.addColumn({values:r.monthday(),column:"day of month",inplace:!0}),e.data=[t.columns].concat(t.values),e}},{key:"render",value:function(){var e=this,t=this.memoizeState("seasonal");return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header",style:{zIndex:2}},"Chu k\u1ef3 l\u1ee3i nhu\u1eadn",this.props.df instanceof pt&&l.a.createElement(l.a.Fragment,null,"\xa0c\u1ee7a",l.a.createElement(Q,{className:"d-inline-flex ms-2",onChange:function(t){return e.changeTicker(t.value)},value:t.ticker||this.props.df.columns[0],options:this.props.df.columns}))),t.data&&l.a.createElement("div",{className:"card-body"},l.a.createElement(mt,{data:t.data,aggregatorName:"Exp % Sum",vals:["returns"],rows:["year"],cols:["month"],rendererName:"Table Heatmap"})))}}]),a}(R),vt=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={width:n.props.width||0,timestep:50*(n.props.seconds||1.7)},n.timer=setTimeout((function(){return n.updateProgress()}),n.state.timestep),n}return Object(M.a)(a,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"updateProgress",value:function(){var e=this,t=this.state.width+5;t<100&&(this.setState({width:t}),this.timer=setTimeout((function(){return e.updateProgress()}),this.state.timestep))}},{key:"render",value:function(){return l.a.createElement("div",{className:"progress",style:{height:"2px"}},l.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:this.state.width+"%"}}))}}]),a}(l.a.Component),gt=a(52),bt=a(86),yt=a(87);function Et(){Et=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(M){o=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var l=t&&t.prototype instanceof d?t:d,c=Object.create(l.prototype),i=new j(r||[]);return n(c,"_invoke",{value:w(e,a,i)}),c}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(M){return{type:"throw",arg:M}}}e.wrap=s;var m={};function d(){}function p(){}function h(){}var f={};o(f,l,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&a.call(g,l)&&(f=g);var b=h.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;n(this,"_invoke",{value:function(n,l){function c(){return new t((function(r,c){!function n(r,l,c,i){var o=u(e[r],e,l);if("throw"!==o.type){var s=o.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(m).then((function(e){s.value=e,c(s)}),(function(e){return n("throw",e,c,i)}))}i(o.arg)}(n,l,r,c)}))}return r=r?r.then(c,c):c()}})}function w(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return C()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var i=x(c,a);if(i){if(i===m)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var o=u(e,t,a);if("normal"===o.type){if(n=a.done?"completed":"suspendedYield",o.arg===m)continue;return{value:o.arg,done:a.done}}"throw"===o.type&&(n="completed",a.method="throw",a.arg=o.arg)}}}function x(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var l=r.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=h,n(b,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=o(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),o(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(s(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},y(b),o(b,i,"Generator"),o(b,l,(function(){return this})),o(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var i=a.call(l,"catchLoc"),o=a.call(l,"finallyLoc");if(i&&o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;k(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:O(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}function wt(e){return xt.apply(this,arguments)}function xt(){return(xt=Object(gt.a)(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wt[t]){e.next=2;break}return e.abrupt("return",wt[t]);case 2:return e.abrupt("return",fetch("https://vnqa.aicafe.one/".concat(t,".zip")).then((function(e){return e.blob()})).then(yt.loadAsync).then((function(e){return e.file(t+".csv").async("string").then((function(e){return new Promise((function(a){Object(bt.parse)(e,{skipEmptyLines:!0,worker:!0,complete:function(e){var n,r=e.data,l=r.shift().slice(1);n="vn"===t?r.map((function(e){return e.shift()})):r.map((function(e){return"".concat(+e.shift()+2e7).replace(/(\d{4})(\d{2})(\d{2})/g,"$1-$2-$3")}));var c=new window.dfd.DataFrame(r.map((function(e){return e.map((function(e){return+e||NaN}))})),{index:n,columns:l,config:{lowMemoryMode:!0}});wt[t]=c,setTimeout((function(){c.$dataIncolumnFormat=c.getColumnData,c.config.lowMemoryMode=!1}),16),a(c)}})}))}))})).catch((function(e){return console.log(e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e){return 10===e?jt():wt("stocks")}function kt(e){return 10===e?jt():wt("indices")}function jt(){return wt("vn").then((function(e){return wt.indices=e,wt.stocks=e,e}))}function Ot(e,t){var a=Object(r.useState)(wt[t]),l=Object(n.a)(a,2),c=l[0],i=l[1];return Object(r.useEffect)((function(){Object(gt.a)(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!c,!t.t0){t.next=7;break}return t.t1=i,t.next=5,e(window.dataLength||5);case 5:t.t2=t.sent,(0,t.t1)(t.t2);case 7:case"end":return t.stop()}}),t)})))()}),[e,c]),[c,i]}function Ct(){return Ot(Nt,"stocks")}var Mt={indices:kt,stocks:Nt};function St(e){var t=e.type,a=e.onChange,r=l.a.useState(window.dataLength||5),c=Object(n.a)(r,2),i=c[0],o=c[1];return l.a.createElement("div",{className:"dropdown text-primary fs-6"},l.a.createElement("div",{className:"dropdown-toggle p-1 show",role:"button","data-bs-toggle":"dropdown"},i," n\u0103m"),l.a.createElement("ul",{className:"dropdown-menu dropdown-menu-end shadow"},[5,10].map((function(e){return l.a.createElement("li",{key:e,onClick:function(){e!==i&&(o(e),window.dataLength=e,delete wt.indices,delete wt.stocks,a(null),Mt[t](e).then((function(e){return a(e)})))}},l.a.createElement("button",{className:"dropdown-item d-flex align-items-center ".concat(e===i?"active":"text-primary")},e," n\u0103m"))}))))}function Tt(){var e=Object(r.useState)(window.tab),t=Object(n.a)(e,2),a=t[0],l=t[1];return[a,Object(r.useCallback)((function(e){window.tab=e,l(e)}),[])]}function Dt(){var e=Ot(kt,"indices"),t=Object(n.a)(e,2),a=t[0],r=t[1],c=Tt(),i=Object(n.a)(c,2),o=i[0],s=i[1],u=[{id:"vola",name:"\u0110\u1ed9 bi\u1ebfn \u0111\u1ed9ng",Com:Le},{id:"rets",name:"L\u1ee3i nhu\u1eadn",Com:Be},{id:"pred",name:"D\u1ef1 b\xe1o",Com:Ke},{id:"ssn",name:"Chu k\u1ef3 l\u1ee3i nhu\u1eadn",Com:ft}],m=u.find((function(e){return e.id===o}))||u[0];return l.a.createElement("div",null,l.a.createElement("h2",{className:"d-flex justify-content-between align-items-center"},"Ph\xe2n t\xedch th\u1ecb tr\u01b0\u1eddng",l.a.createElement(St,{type:"indices",onChange:r})),l.a.createElement("hr",null),a?l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"nav nav-tabs mb-3"},u.map((function(e){var t=e.id,a=e.name;return l.a.createElement("li",{className:"nav-item",key:t,onClick:function(){return s(t)}},l.a.createElement("button",{className:t===m.id?"nav-link active":"nav-link"},a))}))),l.a.createElement(m.Com,{id:"market".concat(m.id),df:a,market:!0})):l.a.createElement(vt,{width:5,seconds:.1}))}function Ft(){var e=Ct(),t=Object(n.a)(e,2),a=t[0],r=t[1],c=Tt(),i=Object(n.a)(c,2),o=i[0],s=i[1],u=[{id:"vola",name:"\u0110\u1ed9 bi\u1ebfn \u0111\u1ed9ng",Com:Le},{id:"rets",name:"L\u1ee3i nhu\u1eadn",Com:Be},{id:"pred",name:"D\u1ef1 b\xe1o",Com:Ke},{id:"ssn",name:"Chu k\u1ef3 l\u1ee3i nhu\u1eadn",Com:ft}],m=u.find((function(e){return e.id===o}))||u[0];return l.a.createElement("div",null,l.a.createElement("h2",{className:"d-flex justify-content-between align-items-center"},"Ph\xe2n t\xedch c\u1ed5 phi\u1ebfu",l.a.createElement(St,{type:"stocks",onChange:r})),l.a.createElement("hr",null),a?l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"nav nav-tabs mb-3"},u.map((function(e){var t=e.id,a=e.name;return l.a.createElement("li",{className:"nav-item",key:t,onClick:function(){return s(t)}},l.a.createElement("button",{className:t===m.id?"nav-link active":"nav-link"},a))}))),l.a.createElement(m.Com,{id:"market".concat(m.id),df:a})):l.a.createElement(vt,null))}var Pt=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.rets;window.Plotly.newPlot(t,a.columns.map((function(e){return{y:a[e].values,type:"box",name:e}})),W()),a.cumsum().apply_map(Math.exp).plot(t+"Curve").line({layout:W({yaxis:{type:"log"}})}),H(t+"Curve")}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Kho\u1ea3ng l\u1ee3i nhu\u1eadn c\xe1c c\u1ed5 phi\u1ebfu th\xe0nh ph\u1ea7n"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{id:this.props.id}))),l.a.createElement("div",{className:"card mt-3"},l.a.createElement("div",{className:"card-header"},"\u0110\u01b0\u1eddng cong l\u1ee3i nhu\u1eadn c\xe1c c\u1ed5 phi\u1ebfu th\xe0nh ph\u1ea7n"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{id:this.props.id+"Curve"}))))}}]),a}(l.a.Component),Lt=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.weights;window.Plotly.newPlot(t,a.columns.map((function(e){return{x:a.index,y:a[e].values,stackgroup:"one",name:e}})),W())}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"T\u1ef7 tr\u1ecdng t\u1eebng c\u1ed5 phi\u1ebfu th\xe0nh ph\u1ea7n"),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{id:this.props.id})))}}]),a}(l.a.Component);function It(e){return e<0?"-":""}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e?It(e)+Math.floor(Math.abs(e)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,t):""}function zt(e){return e>9?e.toString():"0"+e.toString()}function qt(e,t,a){var n=t.index,r=t.values,l=n.indexOf(e.index[0]);l=-1===l?0:l;var c=e.values[0][0],i=r[l],o=c,s=[c];return e.index.slice(1).forEach((function(e){var t=n.indexOf(e,l);-1!==t&&(o=r[t]/i*c,l=t+1),s.push(o)})),e.addColumn({column:a||t.columns[0],values:s})}var At=window.dfd.DataFrame,Rt=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={ticker:""},wt.indices&&(n.state.df=wt.indices),n.getSettingsSync()?n.state.ticker=n.getSettingsSync("idx")||"":n.getSettings("idx",(function(e){return e&&e!==n.state.ticker&&n.setState({ticker:e})})),n}return Object(M.a)(a,[{key:"changeTicker",value:function(e){this.state.ticker!==e&&(this.saveSettings({idx:e}),this.setState({ticker:e}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.theory,n=t.ec,r=t.nc,l=t.id;n=new At({"M\xf4 ph\u1ecfng":n.values},{index:n.index}),r&&(n=qt(n,r,"Ch\u01b0a ph\xed & thu\u1ebf")),n=qt(n,a,"L\xfd thuy\u1ebft"),window.benchmark?n=qt(n,window.benchmark):this.state.df?n=qt(n,this.state.df[this.state.ticker]||this.state.df[this.state.df.columns[0]]):kt().then((function(t){return e.setState({df:t})})),n.plot(l).line({layout:W({yaxis:{type:"log"}})});var c=this.getSettingsSync("simPlot")||[];c.forEach((function(e){var t;(null===(t=document.getElementById(l).data)||void 0===t?void 0:t[e])&&(document.getElementById(l).data[e].visible="legendonly")})),!c.length||window.Plotly.redraw(l),H(l,(function(t){c.includes(t.curveNumber)?c.splice(c.indexOf(t.curveNumber),1):c.push(t.curveNumber),e.saveSettings({simPlot:c})}))}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card my-3"},l.a.createElement("div",{className:"card-header"},"\u0110\u01b0\u1eddng cong v\u1ed1n c\u1ee7a danh m\u1ee5c",this.state.df instanceof At&&l.a.createElement(l.a.Fragment,null,"\xa0so v\u1edbi",l.a.createElement(Q,{className:"d-inline-flex ms-2",onChange:function(t){return e.changeTicker(t.value)},value:this.state.ticker||this.state.df.columns[0],options:this.state.df.columns}))),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{id:this.props.id}))))}}]),a}(q),Bt=a(53);function Vt(e){var t=e.columns,a=e.data,n=Object(Bt.useTable)({columns:t,data:a,initialState:{pageIndex:0}},Bt.usePagination),r=n.getTableProps,c=n.getTableBodyProps,i=n.headerGroups,o=n.prepareRow,s=n.page,u=n.canPreviousPage,m=n.canNextPage,d=n.pageCount,p=n.gotoPage,h=n.nextPage,f=n.previousPage,v=n.setPageSize,g=n.state,b=g.pageIndex,y=g.pageSize;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{overflowX:"scroll"}},l.a.createElement("table",r({className:"table table-bordered table-striped table-hover text-nowrap mb-0"}),l.a.createElement("thead",{className:"text-center"},i.map((function(e){return l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return l.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),l.a.createElement("tbody",c(),s.map((function(e,t){return o(e),l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return l.a.createElement("td",e.getCellProps({className:e.column.className}),e.render("Cell"))})))}))))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row my-2"},l.a.createElement("div",{className:"pagination col-sm-4"},l.a.createElement(Q,{className:"d-inline-flex",onChange:function(e){return v(Number(e.value))},value:y,options:[10,20,30,50,100]}),l.a.createElement("div",{className:"col-auto col-form-label"},"\xa0d\xf2ng/trang")),l.a.createElement("div",{className:"pagination col-sm-4 justify-content-center"},l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("input",{className:"form-control",style:{width:"80px"},type:"number",value:b+1,onChange:function(e){var t=e.target.value?Number(e.target.value):1;t=Math.max(1,Math.min(d,t)),p(t-1)}})),l.a.createElement("div",{className:"col-auto col-form-label"},"\xa0/ ",d)),l.a.createElement("div",{className:"pagination col-sm-4 justify-content-end",style:{paddingRight:0}},l.a.createElement("div",{onClick:function(){return p(0)},className:u?"page-item":"page-item disabled"},l.a.createElement("div",{role:"button",className:"page-link"},"<<")),l.a.createElement("div",{onClick:function(){return f()},className:u?"page-item":"page-item disabled"},l.a.createElement("div",{role:"button",className:"page-link"},"<")),l.a.createElement("div",{onClick:function(){return h()},className:m?"page-item":"page-item disabled"},l.a.createElement("div",{role:"button",className:"page-link"},">")),l.a.createElement("div",{onClick:function(){return p(d-1)},className:m?"page-item":"page-item disabled"},l.a.createElement("div",{role:"button",className:"page-link"},">>"))))))}function Ht(e){var t=e.history,a=[{Header:"Ng\xe0y",accessor:"date"},{Header:"T\xe0i s\u1ea3n r\xf2ng",accessor:"nav",className:"text-end"}];return t.tickers.forEach((function(e){a.push({Header:e,columns:[{Header:"KL",accessor:e,className:"text-end"},{Header:"+/-",accessor:e+"_c",className:"text-end"},{Header:"Gi\xe1 tr\u1ecb",accessor:e+"_v",className:"text-end"}]})})),l.a.createElement("div",{className:"card my-3"},l.a.createElement("div",{className:"card-header"},"L\u1ecbch s\u1eed n\u1eafm gi\u1eef c\u1ee7a danh m\u1ee5c",l.a.createElement("button",{type:"button",className:"btn text-primary float-end px-1 py-0",onClick:function(){var e=a.map((function(e){return e.columns?e.columns.map((function(t){return Object(te.a)(Object(te.a)({},t),{},{Header:t.Header+"("+e.Header+")"})})):e})).flat();!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}("history.csv","".concat(e.map((function(e){return e.Header})).join(","),"\n").concat(t.map((function(t){return e.map((function(e){return'"'.concat(t[e.accessor],'"')})).join(",")})).join("\n"),"\n"))}},"Xu\u1ea5t Excel/CSV")),l.a.createElement("div",{className:"card-body"},l.a.createElement(Vt,{columns:a,data:t})))}var Ut=window.dfd.Series;function Wt(e){var t=_("simulation"),a=Object(n.a)(t,2),c=a[0],i=a[1];c=Object(r.useMemo)((function(){return Object.assign({capital:1e3,reinvest:!0,buyFee:.15,sellFee:.25},c||{})}),[c]);var o=Object(r.useState)({}),s=Object(n.a)(o,2),u=s[0],m=s[1];Object(r.useEffect)((function(){var t=setTimeout((function(){return m(function(e){var t=e.props,a=e.config,n={},r=t.weights.dropna(0),l=t.prices,c=[],i=[],o=[],s=1e3*a.capital,u=0,m=r.columns,d=new Array(m.length).fill(0);n.minDate=r.index[0],(!a.start||a.start<n.minDate)&&(a.start=n.minDate);for(var p=-1,h={},f={},v=function(){var e=r.index[g];if(e<a.start)return"continue";var t=d,n=l.values[l.index.indexOf(e,g)],v=d.reduce((function(e,t,a){return e+t*n[a]}),0)+s,b=new Date(e),y=Math.floor((b.getTime()/864e5-4)/7);if(!a.freq||1===a.freq&&(a.dow||0)<b.getDay()&&h.w!==y||2===a.freq&&(a.day||0)<b.getDate()&&h.m!==b.getMonth()||3===a.freq&&!(g%(a.period<1?1:Math.floor(a.period)))){h={w:y,m:b.getMonth()},-1===p&&(p=g);var E=a.reinvest?v:1e3*a.capital;d=r.values[g].map((function(e,a){var r=e*E/n[a];return Math.max(100*Math.floor(r/100),t[a])})),s=v-d.reduce((function(e,r,l){var c=r-t[l];return e+r*n[l]+c*n[l]*(c>0?a.buyFee:-a.sellFee)/100}),0),u+=v-d.reduce((function(e,t,a){return e+t*n[a]}),0)-s}if(-1===p)return"continue";if(!a.sfreq||1===a.sfreq&&(a.sdow||0)<b.getDay()&&f.w!==y||2===a.sfreq&&(a.sday||0)<b.getDate()&&f.m!==b.getMonth()||3===a.sfreq&&!(g%(a.speriod<1?1:Math.floor(a.speriod)))){f={w:y,m:b.getMonth()};var w=d,x=a.reinvest?v:1e3*a.capital;d=r.values[g].map((function(e,t){var a=e*x/n[t];return Math.min(100*Math.floor(a/100),w[t])})),s=v-d.reduce((function(e,t,r){var l=t-w[r];return e+t*n[r]+l*n[r]*(l>0?a.buyFee:-a.sellFee)/100}),0),u+=v-d.reduce((function(e,t,a){return e+t*n[a]}),0)-s}for(var N={date:e,nav:_t(v*=1e3)},k=m.length-1;k>=0;k--){var j=m[k];N[j]=_t(d[k]),N[j+"_c"]=_t(d[k]-t[k]),N[j+"_v"]=_t(d[k]*n[k]*1e3)}c.unshift(N),i.push(v),o.push(v+1e3*u)},g=0,b=r.index.length;g<b;g++)v();return c.tickers=m,n.simulation=c,n.ec=new Ut(i,{index:r.index.slice(p)}),n.nc=new Ut(o,{index:n.ec.index}),n}({props:e,config:c}))}),500);return function(){return clearTimeout(t)}}),[e,c]);var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"freq";return i(Object(O.a)({},t,parseFloat(e.target.value)||0))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"px-3"},l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-auto ps-0"},l.a.createElement("label",{className:"col-form-label"},"V\u1edbi")),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("input",{className:"form-control",style:{width:"100px"},type:"number",defaultValue:c.capital,onChange:function(e){var t=parseInt(e.target.value);t>0&&t!==c.capital&&i({capital:t})}})),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"(tri\u1ec7u) v\u1ed1n \u0111\u1ea7u t\u01b0 v\xe0o ng\xe0y")),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("input",{className:"form-control",type:"date",value:c.start,min:u.minDate,onChange:function(e){return i({start:e.target.value})}})),l.a.createElement("div",{className:"col-auto ps-0"},l.a.createElement("label",{className:"col-form-label"},",")),l.a.createElement("div",{className:"col-auto px-0 py-2"},l.a.createElement("input",{role:"button",className:"form-check-input",type:"checkbox",id:"reinvest",defaultChecked:c.reinvest,onChange:function(e){return i({reinvest:e.target.checked})}})),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{role:"button",className:"col-form-label",htmlFor:"reinvest"},"t\xe1i \u0111\u1ea7u t\u01b0.")),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("label",{className:"col-form-label"},"Ph\xed v\xe0 thu\u1ebf\xa0")),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("input",{className:"form-control",style:{width:"64px"},defaultValue:c.buyFee,onChange:function(e){var t=parseFloat(e.target.value)||0;t!==c.buyFee&&i({buyFee:t})}})),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("label",{className:"col-form-label"},"\xa0% khi mua, \xa0")),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("input",{className:"form-control",style:{width:"64px"},defaultValue:c.sellFee,onChange:function(e){var t=parseFloat(e.target.value)||0;t!==c.sellFee&&i({sellFee:t})}})),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("label",{className:"col-form-label"},"\xa0% khi b\xe1n.")),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"Mua")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:2}},l.a.createElement("select",{className:"form-select",defaultValue:c.freq,onChange:d},l.a.createElement("option",{value:0},"h\xe0ng ng\xe0y"),l.a.createElement("option",{value:1},"h\xe0ng tu\u1ea7n"),l.a.createElement("option",{value:2},"h\xe0ng th\xe1ng"),l.a.createElement("option",{value:3},"sau m\u1ed7i"))),1===c.freq&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"v\xe0o")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:3}},l.a.createElement("select",{className:"form-select",defaultValue:c.dow,onChange:function(e){return d(e,"dow")}},l.a.createElement("option",{value:0},"th\u1ee9 hai"),l.a.createElement("option",{value:1},"th\u1ee9 ba"),l.a.createElement("option",{value:2},"th\u1ee9 t\u01b0"),l.a.createElement("option",{value:3},"th\u1ee9 n\u0103m"),l.a.createElement("option",{value:4},"th\u1ee9 s\xe1u")))),2===c.freq&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"v\xe0o ng\xe0y")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:3}},l.a.createElement("select",{className:"form-select",defaultValue:c.day,onChange:function(e){return d(e,"day")}},new Array(31).fill(0).map((function(e,t){return l.a.createElement("option",{value:t,key:t},t+1)}))))),3===c.freq&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-auto"},l.a.createElement("input",{className:"form-control",style:{width:"80px"},type:"number",defaultValue:c.period||1,onChange:function(e){return d(e,"period")}})),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("label",{className:"col-form-label"},"ng\xe0y."))),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},", b\xe1n")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:2}},l.a.createElement("select",{className:"form-select",defaultValue:c.sfreq,onChange:function(e){return d(e,"sfreq")}},l.a.createElement("option",{value:0},"h\xe0ng ng\xe0y"),l.a.createElement("option",{value:1},"h\xe0ng tu\u1ea7n"),l.a.createElement("option",{value:2},"h\xe0ng th\xe1ng"),l.a.createElement("option",{value:3},"sau m\u1ed7i"))),1===c.sfreq&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"v\xe0o")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:3}},l.a.createElement("select",{className:"form-select",defaultValue:c.sdow,onChange:function(e){return d(e,"sdow")}},l.a.createElement("option",{value:0},"th\u1ee9 hai"),l.a.createElement("option",{value:1},"th\u1ee9 ba"),l.a.createElement("option",{value:2},"th\u1ee9 t\u01b0"),l.a.createElement("option",{value:3},"th\u1ee9 n\u0103m"),l.a.createElement("option",{value:4},"th\u1ee9 s\xe1u")))),2===c.sfreq&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"v\xe0o ng\xe0y")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:3}},l.a.createElement("select",{className:"form-select",defaultValue:c.sday,onChange:function(e){return d(e,"sday")}},new Array(31).fill(0).map((function(e,t){return l.a.createElement("option",{value:t,key:t},t+1)}))))),3===c.sfreq&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-auto"},l.a.createElement("input",{className:"form-control",style:{width:"80px"},type:"number",defaultValue:c.speriod||1,onChange:function(e){return d(e,"speriod")}})),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("label",{className:"col-form-label"},"ng\xe0y."))))),u.ec&&(u.ec.$data.length?l.a.createElement(l.a.Fragment,null,u.ec.$data.length>1&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Rt,{id:e.id+"Benchmark",theory:e.theory,ec:u.ec,nc:u.nc}),l.a.createElement(Fe,{id:e.id+"Drawdown",df:u.ec}),l.a.createElement(Be,{id:e.id+"Rets",df:u.ec,label:"m\xf4 ph\u1ecfng ".concat(e.label),short:"".concat(e.short,":SIM")})),l.a.createElement(Ht,{id:e.id+"History",history:u.simulation})):l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body row"},l.a.createElement("p",{className:"text-center fs-4 p-2"},"Ch\u01b0a c\xf3 giao d\u1ecbch n\xe0o trong kho\u1ea3ng th\u1eddi gian \u0111\u01b0\u1ee3c ch\u1ecdn!")))))}var $t=window,Gt=$t.jStat,Kt=$t.dfd,Jt=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={trial:30},n}return Object(M.a)(a,[{key:"simulate",value:function(e){for(var t,a=this.props.df,n=a.index.slice(),r=a.values.slice(),l=n.length,c=0,i=new Date(n[l-1]),o=(i.getUTCMonth()+2)%12;c<1260;)(i=new Date(i.getTime()+864e5)).getUTCDay()%6===0||i.getUTCMonth()===o&&i.getUTCDate()<14||(n.push("".concat((t=i).getUTCFullYear(),"-").concat(zt(t.getUTCMonth()+1),"-").concat(zt(t.getUTCDate()))),r.push(NaN),c++);for(var s=Gt.randn(e.trial,c),u=new Kt.DataFrame({"Qu\xe1 kh\u1ee9":r},{index:n}),m=a.index.map((function(e){return NaN})),d=a.apply(Math.log),p=d.sub([NaN].concat(d.values.slice(0,-1))).values.slice(2),h=Gt.mean(p),f=Gt.stdev(p),v=function(){var e=m.slice(),t=r[l-1];s[g].forEach((function(a){t*=Math.exp(a*f+h),e.push(t)})),u.addColumn({values:e,column:g.toString(),inplace:!0})},g=0;g<e.trial;g++)v();e.ec=u;var b=Gt(s).sumrow(),y=b.slice().sort((function(e,t){return e-t}));return e.stats=new Kt.DataFrame({min:u[b.indexOf(y[0]).toString()].values.slice(l),median:u[b.indexOf(y[e.trial>>1]).toString()].values.slice(l),max:u[b.indexOf(y[e.trial-1]).toString()].values.slice(l)},{index:n.slice(l)}),e}},{key:"calcRets",value:function(e){var t=e.apply(Math.log);return t.iloc(["1:"]).sub(t.values.slice(0,-1))}},{key:"render",value:function(){var e=this,t=this.simulate(this.state),a=t.stats,n=a.min,r=a.median,c=a.max;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"px-3"},l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"M\xf4 ph\u1ecfng Monte Carlo v\u1edbi")),l.a.createElement("input",{className:"d-inline-flex ms-2 form-control",style:{width:"70px"},type:"number",value:t.trial,onChange:function(t){return e.setState({trial:parseInt(t.target.value)})},min:10}),"\xa0",l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"l\u1ea7n th\u1eed")))),l.a.createElement("div",{className:"card my-3"},l.a.createElement("div",{className:"card-header"},"Th\u1ed1ng k\xea hi\u1ec7u su\u1ea5t"),l.a.createElement("div",{className:"card-body row"},l.a.createElement("table",{className:"table table-borderless table-striped table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Tr\u01b0\u1eddng h\u1ee3p x\u1ea5u nh\u1ea5t"),l.a.createElement("th",null,"Tr\u01b0\u1eddng h\u1ee3p trung b\xecnh"),l.a.createElement("th",null,"Tr\u01b0\u1eddng h\u1ee3p t\u1ed1t nh\u1ea5t"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1eeb ng\xe0y"),l.a.createElement("td",null),l.a.createElement("td",null,n.index[0]),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",null,"\u0110\u1ebfn ng\xe0y"),l.a.createElement("td",null),l.a.createElement("td",null,n.index[n.index.length-1]),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",null,"T\u1ef7 l\u1ec7 t\u0103ng tr\u01b0\u1edfng h\xe0ng n\u0103m (CAGR)"),l.a.createElement("td",null,(100*Math.expm1(Math.log(n.values[n.values.length-1]/n.values[0])/5)).toFixed(2),"%"),l.a.createElement("td",null,(100*Math.expm1(Math.log(r.values[r.values.length-1]/r.values[0])/5)).toFixed(2),"%"),l.a.createElement("td",null,(100*Math.expm1(Math.log(c.values[c.values.length-1]/c.values[0])/5)).toFixed(2),"%")),l.a.createElement("tr",null,l.a.createElement("td",null,"Bi\u1ebfn \u0111\u1ed9ng trung b\xecnh n\u0103m"),l.a.createElement("td",null,(this.calcRets(n).std()*Math.sqrt(252)*100).toFixed(2),"%"),l.a.createElement("td",null,(this.calcRets(r).std()*Math.sqrt(252)*100).toFixed(2),"%"),l.a.createElement("td",null,(this.calcRets(c).std()*Math.sqrt(252)*100).toFixed(2),"%")),l.a.createElement("tr",null,l.a.createElement("td",null,"Max Drawdown"),l.a.createElement("td",null,X(n.values).toFixed(2),"%"),l.a.createElement("td",null,X(r.values).toFixed(2),"%"),l.a.createElement("td",null,X(c.values).toFixed(2),"%")),l.a.createElement("tr",null,l.a.createElement("td",null,"Max Drawdown Duration"),l.a.createElement("td",null,Z(n.values)," ng\xe0y"),l.a.createElement("td",null,Z(r.values)," ng\xe0y"),l.a.createElement("td",null,Z(c.values)," ng\xe0y")))))),l.a.createElement("div",{className:"card my-3"},l.a.createElement("div",{className:"card-header"},"\u0110\u01b0\u1eddng cong m\xf4 ph\u1ecfng"),l.a.createElement("div",{className:"card-body"},l.a.createElement(_e,{id:this.props.id,ec:t.ec}))))}}]),a}(q);function Qt(e){var t,a=Tt(),r=Object(n.a)(a,2),c=r[0],i=r[1];if("rets"===c)t=l.a.createElement(Be,{id:e.id+"Rets",df:e.ec,label:e.label,short:e.short});else if("ssn"===c)t=l.a.createElement(ft,{id:e.id+"Ssn",df:e.ec,label:e.label});else if("box"===c){var o=e.ec.apply(Math.log);t=l.a.createElement(Pt,{id:e.id+"Box",rets:e.rets.addColumn({column:"Danh m\u1ee5c",values:o.sub([0].concat(o.values.slice(0,-1)))})})}else"wi"===c?t=l.a.createElement(Lt,{id:e.id+"Wi",weights:e.weights}):"si"===c?t=l.a.createElement(Wt,{id:e.id+"Si",theory:e.ec,weights:e.weights,prices:e.prices,label:e.label,short:e.short}):"mc"===c?t=l.a.createElement(Jt,{id:e.id+"Mc",df:e.ec}):(c="vola",t=l.a.createElement(Le,{id:e.id+"Vola",df:e.ec,label:e.label}));return l.a.createElement("div",null,l.a.createElement("ul",{className:"nav nav-tabs mb-3"},[["vola","\u0110\u1ed9 bi\u1ebfn \u0111\u1ed9ng"],["rets","L\u1ee3i nhu\u1eadn"],["ssn","Chu k\u1ef3 l\u1ee3i nhu\u1eadn"],e.rets&&["box","C\u1ed5 phi\u1ebfu th\xe0nh ph\u1ea7n"]].concat(Object(B.a)(e.weights?[["wi","T\u1ef7 tr\u1ecdng"],["si","M\xf4 ph\u1ecfng"],["mc","Monte Carlo"]]:[])).filter(Boolean).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return l.a.createElement("li",{key:a,className:"nav-item",onClick:function(){return c===a||i(a)}},l.a.createElement("button",{className:"nav-link".concat(c===a?" active":"")},r))}))),t)}var Yt=a(94),Xt=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"removeOption",value:function(e){e.stopPropagation();var t=e.target.parentNode.innerHTML;t=t.substring(0,t.indexOf("<")),window.confirm('B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 danh m\u1ee5c "'.concat(t,'"?'))&&this.props.onRemove(t)}},{key:"formatOptionLabel",value:function(e,t){var a=this;return"value"!==t.context&&e.value&&!e.__isNew__&&this.props.onRemove?l.a.createElement("div",{style:{overflow:"hidden"}},e.label,l.a.createElement("i",{role:"button",onClick:function(e){return a.removeOption(e)},className:"bi bi-x-lg float-end"})):e.label}},{key:"render",value:function(){var e=this;return l.a.createElement(Yt.a,Object.assign({},this.props,{classNamePrefix:"vnqa",formatOptionLabel:function(t,a){return e.formatOptionLabel(t,a)}}))}}]),a}(l.a.Component);function Zt(e){return e?e.map((function(e){return{value:e,label:e}})).filter((function(e){return"string"===typeof e.value})):[]}function ea(e){var t=e.settings,a=e.setSettings,n=e.tickers,c=e.setTickers,i=e.df,o=e.type,s=t||{},u=s.portfolio,m=s.portfolios,d=Object(r.useMemo)((function(){var e=[{label:"M\u1eb7c \u0111\u1ecbnh"}];return m&&(e=e.concat(Object.keys(m).filter((function(e){return!!m[e]})).map((function(e){return{value:e,label:e}})))),e}),[m]),p=Object(r.useMemo)((function(){return[u?{value:u,label:u}:{label:"M\u1eb7c \u0111\u1ecbnh"}]}),[u]),h=Object(r.useCallback)((function(e){if(e.value!==u)if(e.__isNew__){var n=m||{};n[e.value]=[],a({portfolio:e.value,portfolios:n}),c([])}else a({portfolio:e.value}),c(Zt(e.value?m[e.value]:t.tickers))}),[u,m,t.tickers,a,c]),f=Object(r.useCallback)((function(e){var n={portfolios:Object(O.a)({},e,void 0)};e===u&&(n.portfolio=void 0,c(Zt(t.tickers))),a(n)}),[u,t.tickers,a,c]),v=Object(r.useCallback)((function(e){u?(m[u]=e.map((function(e){return e.value})),a({portfolios:m})):a({tickers:e.map((function(e){return e.value}))})}),[u,m,a]),g=Object.assign({volTarget:15,window:20},t[o]||{}),b=Object(r.useCallback)((function(e){e=(e=parseFloat(e.target.value))>1?e:g.volTarget,a(Object(O.a)({},o,{volTarget:e}))}),[g.volTarget,o,a]),y=Object(r.useCallback)((function(e){e=(e=parseInt(e.target.value))>1?e:g.window,a(Object(O.a)({},o,{window:e}))}),[g.window,o,a]);return l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"Danh m\u1ee5c")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:4}},l.a.createElement(Xt,{options:d,value:p,onChange:h,onRemove:f})),l.a.createElement("div",{className:"col-auto",style:{zIndex:3}},l.a.createElement(Q,{onChange:v,defaultValue:n,key:u,options:i.columns,isMulti:!0})),o&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"v\u1edbi \u0111\u1ed9 bi\u1ebfn \u0111\u1ed9ng")),l.a.createElement("div",{className:"col-auto px-0",style:{zIndex:3}},l.a.createElement("input",{className:"form-control",style:{width:"80px"},type:"number",defaultValue:g.volTarget,onChange:b})),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"% trong")),l.a.createElement("div",{className:"col-auto px-0"},l.a.createElement("input",{className:"form-control",style:{width:"70px"},type:"number",defaultValue:g.window,onChange:y})),l.a.createElement("div",{className:"col-auto"},l.a.createElement("label",{className:"col-form-label"},"ng\xe0y"))))}var ta=window,aa=ta.jStat,na=ta.dfd;function ra(e){var t=e.tickers,a=e.df,n={},r=!1;if(t=t.map((function(e){return e.value})),a&&(t=t.filter((function(e){return a.columns.includes(e)}))),t.length&&a){n.prices=a.loc({columns:t});var l=(a=n.prices.apply_map(Math.log).dropna(0)).sub(new na.DataFrame([a.values[0]].concat(a.values.slice(0,-1)),{columns:a.$columns}));n.rets=l;var c=1/a.$columns.length;n.weights=l.apply_map((function(){return c})),(l=l.apply_map(Math.exp).apply(aa.mean,{axis:0})).values[0]=1,r=l.dropna().cumprod()}return n.ec=r,n}function la(e){var t=e.title,a=e.ec,c=e.type,i=Ct(),o=Object(n.a)(i,2),s=o[0],u=o[1],m=_(),d=Object(n.a)(m,2),p=d[0],h=d[1],f=p||{},v=f.portfolio,g=f.portfolios,b=f.tickers,y=f[c],E=Object(r.useState)(Zt(v?g[v]:b)),w=Object(n.a)(E,2),x=w[0],N=w[1];Object(r.useEffect)((function(){N(Zt(v?g[v]:b))}),[v,g,b]);var k=Object(r.useState)({}),j=Object(n.a)(k,2),O=j[0],C=j[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){return C((a||ra)({tickers:x,df:s,config:Object.assign({volTarget:15,window:20},y)}))}),Math.min(300,10*x.length));return function(){return clearTimeout(e)}}),[x,s,a,y]),l.a.createElement("div",null,l.a.createElement("h2",{className:"d-flex justify-content-between align-items-center"},t||"Danh m\u1ee5c Equal Weight",l.a.createElement(St,{type:"stocks",onChange:u})),l.a.createElement("hr",null),s?l.a.createElement(l.a.Fragment,null,l.a.createElement(ea,{settings:p,setSettings:h,tickers:x,setTickers:N,df:s,type:c}),O.ec&&l.a.createElement(Qt,Object.assign({id:"eqw"},O,{label:"danh m\u1ee5c ".concat(x.map((function(e){return e.value})).join(",")," ph\xe2n b\u1ed5 v\u1ed1n theo ").concat(t||"equal weight"),short:"".concat(v||"",":").concat((c||"EW").toUpperCase())}))):l.a.createElement(vt,null))}var ca=window,ia=ca.jStat,oa=ca.dfd;function sa(e){var t=e.tickers,a=e.df,n=e.config,r={},l=!1;if(t=t.map((function(e){return e.value})),a&&(t=t.filter((function(e){return a.columns.includes(e)}))),t.length&&a){r.prices=a.loc({columns:t});var c=(a=r.prices.apply_map(Math.log).dropna(0)).sub(new oa.DataFrame([a.values[0]].concat(a.values.slice(0,-1)),{columns:a.$columns}));r.rets=c;var i=n.volTarget/c.columns.length/Math.sqrt(252e4),o=c.rolling(n.window).apply((function(e){return e.std().values.map((function(e){return e?i/e:0}))}));r.weights=o,o=new oa.DataFrame([o.values[0]].concat(Object(B.a)(o.values.slice(0,-1))),o),(c=c.apply_map(Math.expm1).mul(o).apply(ia.sum,{axis:0}).dropna().add(1)).values[0]=1,l=c.cumprod()}return r.ec=l,r}function ua(){return l.a.createElement(la,{title:"Inverse Volatility",type:"iv",ec:sa})}var ma=window,da=ma.jStat,pa=ma.PortfolioAllocation,ha=ma.dfd;function fa(e){var t=e.tickers,a=e.df,n=e.config,r={},l=!1;if(t=t.map((function(e){return e.value})),a&&(t=t.filter((function(e){return a.columns.includes(e)}))),t.length&&a){r.prices=a.loc({columns:t});var c=(a=r.prices.apply_map(Math.log).dropna(0)).sub(new ha.DataFrame([a.values[0]].concat(a.values.slice(0,-1)),{columns:a.$columns}));r.rets=c;var i=n.volTarget/Math.sqrt(252e4),o=c.rolling(n.window).apply((function(e){for(var t=e.columns.length,a=da.zeros(t),n=0;n<t;n++)for(var r=e[e.columns[n]].values,l=0;l<=n;l++){var c=e[e.columns[l]].values;a[n][l]=a[l][n]=da.covariance(r,c)}try{var o=pa.equalRiskContributionWeights(a,{outputPortfolioVolatility:!0});return o[0].map((function(e){return e*i/o[1]}))}catch(s){return new Array(t).fill(0)}}));r.weights=o,o=new ha.DataFrame([o.values[0]].concat(Object(B.a)(o.values.slice(0,-1))),o),(c=c.apply_map(Math.expm1).mul(o).apply(da.sum,{axis:0}).dropna().add(1)).values[0]=1,l=c.cumprod()}return r.ec=l,r}function va(){return l.a.createElement(la,{title:"Equal Risk Contributions",type:"erc",ec:fa})}var ga=window,ba=ga.jStat,ya=ga.PortfolioAllocation,Ea=ga.dfd;function wa(e){var t=e.tickers,a=e.df,n=e.config,r={},l=!1;if(t=t.map((function(e){return e.value})),a&&(t=t.filter((function(e){return a.columns.includes(e)}))),t.length&&a){r.prices=a.loc({columns:t});var c=(a=r.prices.apply_map(Math.log).dropna(0)).sub(new Ea.DataFrame([a.values[0]].concat(a.values.slice(0,-1)),{columns:a.$columns}));r.rets=c;var i=n.volTarget/Math.sqrt(252e4),o=c.rolling(n.window).apply((function(e){for(var t=e.columns.length,a=Array(t),n=ba.zeros(t),r=0;r<t;r++){var l=e[e.columns[r]].values;a[r]=ba.mean(l);for(var c=0;c<=r;c++){var o=e[e.columns[c]].values;n[r][c]=n[c][r]=ba.covariance(l,o)}}try{var s=ya.meanVarianceEfficientFrontierPortfolios(a,n,{}),u=0,m=0;return s.forEach((function(e,t){var a=e[1]/e[2];a>u&&(u=a,m=t)})),s[m][0].map((function(e){return e*i/s[m][2]}))}catch(d){return new Array(t).fill(0)}}));r.weights=o,o=new Ea.DataFrame([o.values[0]].concat(Object(B.a)(o.values.slice(0,-1))),o),(c=c.apply_map(Math.expm1).mul(o).apply(ba.sum,{axis:0}).dropna().add(1)).values[0]=1,l=c.cumprod()}return r.ec=l,r}function xa(){return l.a.createElement(la,{title:"Mean-Variance Optimization",type:"mvo",ec:wa})}var Na=a(88),ka=["editing","value","placeholder","onChange","html","view","render","deletable","onDelete"];function ja(e){var t=e.editing,a=e.value,c=e.placeholder,i=e.onChange,o=e.html,s=e.view,u=e.render,m=e.deletable,d=e.onDelete,p=Object(y.a)(e,ka),h=Object(r.useState)(o&&!s),f=Object(n.a)(h,2),v=f[0],g=f[1],b=Object(r.useCallback)((function(e){e&&(e.preventDefault(),e.stopPropagation()),g((function(e){return!e}))}),[]),E=Object(r.useRef)();Object(r.useEffect)((function(){if(v&&s&&E.current){var e=function(e){return E.current.contains(e.target)||b()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[v,s,E,b]);var w=u?u(a):o?l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a||c}}):a;if(!t)return w;if(v){var x=function(e){return i(e.target.value)};return o?l.a.createElement("div",{ref:E},l.a.createElement(Na.a,Object.assign({value:a,onChange:x},p))):l.a.createElement("input",Object.assign({value:a,placeholder:c,onChange:x,onBlur:b,autoFocus:!0},p))}return l.a.createElement("div",{className:"d-flex align-items-center"},w||c,l.a.createElement("button",{type:"button",className:"btn btn-sm ms-1",onClick:b},l.a.createElement("i",{className:"bi bi-pencil"})),m&&l.a.createElement("button",{type:"button",className:"btn btn-sm text-danger",onClick:function(e){e.preventDefault(),e.stopPropagation(),d&&d()}},l.a.createElement("i",{className:"bi bi-trash"})))}a(197);function Oa(e){var t=e.className,a=e.size,n=e.progress,r=e.text,c={},i={};return r=r||"".concat(Math.round(100*n),"%"),n&&(n>.5?(n>1&&(n=1),i={"--progress":"180deg"},c={"--progress":360*(n-=.5)+"deg"}):i={"--progress":360*n+"deg"}),l.a.createElement("div",{className:"progress circle ".concat(t||""),style:{"--size":a||"2rem"}},l.a.createElement("span",{className:"m-auto"},r),l.a.createElement("span",{className:"half left"},l.a.createElement("span",{className:"bar",style:c})),l.a.createElement("span",{className:"half right"},l.a.createElement("span",{className:"bar",style:i})))}var Ca=a(37),Ma=a.n(Ca);function Sa(e){var t=e.items,a=e.itemRenderer;return t.map(a)}function Ta(e){var t,a,c=e.editing,i=e.lessons,o=e.setLessons,s=e.current,u=e.learned,m=e.setConfig,d=c?Ma.a:Sa,p=Symbol.for("parent"),h=Symbol.for("children");i.forEach((function(e){e.concept?(e[p]=t,t[h].add(e.id),s===e.id&&(a=t.id)):(t=e)[h]=new Set}));var f=Object(r.useState)(new Set([a])),v=Object(n.a)(f,2),g=v[0],b=v[1];Object(r.useEffect)((function(){s&&!g.has(a)&&b(new Set(g.add(a)))}),[s]);var y=1;return l.a.createElement(d,{itemRenderer:function(e){var t=e.id,a=e.title,n=e.concept,r=e[p],d=e[h];return l.a.createElement("li",{key:t,className:"nav-item".concat(r&&!g.has(r.id)?" d-none":""),style:{backgroundColor:"var(--bs-body-bg)"},onClick:function(){n?t!==s&&m({current:t}):(g.has(t)||b(new Set(g.add(t))),!d.has(s)&&d.size&&m({current:Array.from(d)[0]}))}},l.a.createElement("div",{className:"nav-link d-flex justify-content-between align-items-center px-2".concat(s===t?" active":"")},l.a.createElement("div",{className:"d-flex align-items-center gap-2"},n?l.a.createElement("i",{className:"ms-3 bi bi-".concat(u.has(t)?"check-":"","circle")}):c?l.a.createElement("button",{type:"button",className:"btn btn-sm text-primary",onClick:function(e){e.stopPropagation();for(var a=i.findIndex((function(e){return e.id===t}))+1;a<i.length&&i[a].concept;)a++;var n=i.slice(),r=Math.max.apply(Math,[0].concat(Object(B.a)(i.map((function(e){return e.id})))))+1;n.splice(a,0,{id:r,title:"New Concept",concept:1}),o(n),g.has(t)||b(new Set(g.add(t))),m({current:r})}},l.a.createElement("i",{className:"bi bi-plus-circle"})):l.a.createElement(Oa,{className:"text-primary",text:y++,size:"1.5rem",progress:Array.from(u).filter((function(e){return d.has(e)})).length/(d.size||1)}),l.a.createElement(ja,{editing:c,placeholder:"New Lesson",value:a,onChange:function(e){return function(e,t){return o(i.map((function(a){return a.id===e?Object(te.a)(Object(te.a)({},a),t):a})))}(t,{title:e})},deletable:!0,onDelete:function(){return function(e){return o(i.filter((function(t){return t.id!==e})))}(t)},onMouseDown:function(e){return e.stopPropagation()}})),!n&&!!d.size&&l.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(e){e.stopPropagation(),g[g.has(t)?"delete":"add"](t),b(new Set(g))}},l.a.createElement("i",{className:"bi bi-chevron-".concat(g.has(t)?"up":"down")}))))},items:i,onChange:o,dragDelay:100})}var Da=a(89),Fa=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"onReady",value:function(e){this.player=e.target,this.props.pause||this.player.playVideo()}},{key:"render",value:function(){var e=this,t=window.innerWidth>=992?.66:window.innerWidth>=768?.8:1;return l.a.createElement("div",{id:"yt_player",style:{height:Math.round((this.props.pause?.49:.5625)*t*window.innerWidth)},tabIndex:0},l.a.createElement(Da.a,{videoId:this.props.vid[1],opts:{width:"100%",height:"100%",playerVars:{showinfo:0,modestbranding:1,rel:0,autoplay:+!this.props.pause,fs:1}},onReady:function(t){return e.onReady(t)}}))}}]),a}(l.a.Component);function Pa(e){e.stopPropagation()}function La(e){var t=e.id,a=e.review,n=e.quiz,r=e.onChange,c=e.user,i=e.setUser,o=n.opts,s=n.ans,u=n.exp,m="quizz".concat(t),d=r?Ma.a:Sa;return c=c||[],l.a.createElement("div",{className:"d-flex flex-column gap-2"},l.a.createElement("div",{onMouseDown:Pa},l.a.createElement(ja,{editing:!!r,value:n.quiz,placeholder:"New quiz",onChange:r&&function(e){return r({quiz:e})},html:!0,view:!0}),s.length>1&&" (ch\u1ecdn ".concat(s.length," \u0111\xe1p \xe1n)")),l.a.createElement("div",{onMouseDown:Pa},l.a.createElement(d,{itemRenderer:function(e){var t=e.id,n=e.answer;return l.a.createElement("div",{key:t,style:{backgroundColor:"var(--bs-body-bg)"},className:"form-check d-flex align-items-center gap-2 mb-2".concat(r||!a?"":c.includes(t)?s.includes(t)?" text-success":" text-danger bg-warning":s.includes(t)?" text-success bg-warning":"")},l.a.createElement("input",{className:"form-check-input my-0".concat(!r&&a&&s.includes(t)?" bg-success":""),name:a?null:m,id:"".concat(m,"__").concat(t),type:s.length>1||r?"checkbox":"radio",checked:r?s.includes(t):c.includes(t)||a&&s.includes(t),onChange:function(e){var n=e.target.checked;r?r({ans:n?[].concat(Object(B.a)(s),[t]):s.filter((function(e){return e!==t}))}):a||(s.length>1?(n?c.push(t):c=c.filter((function(e){return e!==t})),i(c)):i([t]))}}),l.a.createElement("label",{className:"form-check-label".concat(r?" flex-grow-1":""),htmlFor:!r&&"".concat(m,"__").concat(t),onMouseDown:Pa},l.a.createElement(ja,{editing:!!r,value:n,placeholder:"New option",onChange:r&&function(e){return r({opts:o.map((function(a,n){return t===n?e:a}))})},html:!0,view:!0,deletable:!0,onDelete:r&&function(){return r({opts:o.filter((function(e,a){return t!==a})),ans:s.filter((function(e){return e!==t}))})}})),r&&l.a.createElement("div",{style:{cursor:"move"}},l.a.createElement("i",{className:"bi bi-list"})))},items:o.map((function(e,t){return{answer:e,id:t}})),onChange:r&&function(e){return r({opts:e.map((function(e){return e.answer}))})},dragDelay:100})),r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn text-primary",onClick:function(){return r({opts:[].concat(Object(B.a)(o),[""])})}},l.a.createElement("i",{className:"bi bi-plus-circle"})," Th\xeam \u0111\xe1p \xe1n")),l.a.createElement("div",{onMouseDown:Pa},l.a.createElement(ja,{editing:!0,value:u,placeholder:"Explanation",onChange:r&&function(e){return r({exp:"<br>"===e?"":e})},html:!0,view:!0}))):a&&u&&l.a.createElement("div",{className:"alert alert-".concat(c.sort().join(",")===s.sort().join(",")?"success":"danger"),role:"alert"},u))}function Ia(e){var t=e.value,a=e.onChange;return l.a.createElement(ja,{editing:!!a,html:!0,value:t,onChange:function(e){"<br>"===e&&(e=""),a(e)}})}var _a={youtube:{title:"Video",Com:function(e){var t=e.value,a=e.onChange;return t=t||{},l.a.createElement("div",{className:"d-flex flex-column gap-2"},l.a.createElement(ja,{editing:!!a,value:t.id,onChange:a&&function(e){return a(e||t.text?Object(te.a)(Object(te.a)({},t),{},{id:e}):"")},render:function(e){return e?l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(Fa,{vid:[0,e],pause:!0})):a?"Vui l\xf2ng nh\u1eadp Youtube video ID":""}}),l.a.createElement(ja,{editing:!!a,html:!0,value:t.text,onChange:a&&function(e){"<br>"===e&&(e=""),a(e||t.id?Object(te.a)(Object(te.a)({},t),{},{text:e}):"")}}))}},text:{title:"B\xe0i \u0111\u1ecdc",Com:Ia},practice:{title:"Th\u1ef1c h\xe0nh",Com:Ia},refs:{title:"Tham kh\u1ea3o",Com:Ia},quiz:{title:"Tr\u1eafc nghi\u1ec7m",Com:function(e){var t=e.value,a=e.onChange,c=t||[],i=a?Ma.a:Sa,o=Object(r.useState)({}),s=Object(n.a)(o,2),u=s[0],m=s[1],d=Object(r.useState)(!1),p=Object(n.a)(d,2),h=p[0],f=p[1],v=Object(r.useCallback)((function(){return f((function(e){return!e}))}),[]),g=h&&c.filter((function(e,t){var a=e.ans;return!u[t]||u[t].sort().join(",")!==a.sort().join(",")})).length;return l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(i,{itemRenderer:function(e){var t=e.quiz,n=e.id;return l.a.createElement("div",{key:n,className:"mb-3".concat(a?" card p-3":"")},l.a.createElement("h5",null,"C\xe2u ",n+1,":",a&&l.a.createElement("button",{type:"button",className:"btn btn-sm text-danger float-end",onClick:function(){return a(c.filter((function(e,t){return t!==n})))}},l.a.createElement("i",{className:"bi bi-trash"}))),l.a.createElement(La,{id:n,review:h,quiz:t,onChange:a&&function(e){return a(c.map((function(t,a){return a===n?Object(te.a)(Object(te.a)({},t),e):t})))},user:u[n],setUser:a?null:function(e){return m((function(t){return Object(te.a)(Object(te.a)({},t),{},Object(O.a)({},n,e))}))}}))},items:c.map((function(e,t){return{quiz:e,id:t}})),onChange:a&&function(e){return a(e.map((function(e){return e.quiz})))},dragDelay:100}),a?l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn text-primary",onClick:function(){return a([].concat(Object(B.a)(c),[{quiz:"",opts:[],ans:[],exp:""}]))}},l.a.createElement("i",{className:"bi bi-plus-circle"})," Th\xeam c\xe2u h\u1ecfi")):!!c.length&&l.a.createElement("div",null,h&&l.a.createElement("div",{className:"alert alert-".concat(g?"danger":"success")},g?"B\u1ea1n tr\u1ea3 l\u1eddi \u0111\xfang ".concat(c.length-g,"/").concat(c.length," c\xe2u h\u1ecfi"):"Ch\xfac m\u1eebng! B\u1ea1n \u0111\xe3 tr\u1ea3 l\u1eddi \u0111\xfang t\u1ea5t c\u1ea3 c\xe1c c\xe2u h\u1ecfi."),(!h||!!g)&&l.a.createElement("button",{type:"button",className:"btn btn-".concat(h?"secondary":"primary"),onClick:v},l.a.createElement("i",{className:"bi bi-".concat(h?"arrow-clockwise":"check-lg")}),h?" L\xe0m l\u1ea1i":" N\u1ed9p b\xe0i")))}}};function za(e){var t=e.editing,a=e.lesson,c=e.setLesson,i=e.onPrev,o=e.onNext,s=["youtube","text","practice","refs","quiz"].filter((function(e){return t||a[e]})),u=Object(r.useState)(s[0]),m=Object(n.a)(u,2),d=m[0],p=m[1];Object(r.useEffect)((function(){!d!==!s[0]&&p(s[0])}),[t,d,s]),s.includes(d)||(d=s[0]);var h=d&&_a[d].Com;return l.a.createElement("div",{style:{minHeight:"70vh"},className:"d-flex flex-column justify-content-between gap-2"},l.a.createElement("div",null,l.a.createElement("h2",null,l.a.createElement(ja,{value:a.title,onChange:function(e){return c({title:e})},editing:t})),l.a.createElement("ul",{className:"nav nav-tabs mb-3"},s.map((function(e){return l.a.createElement("li",{className:"nav-item",key:e,onClick:function(){return p(e)}},l.a.createElement("button",{className:"nav-link".concat(d===e?" active":"")},_a[e].title))}))),d&&l.a.createElement(h,{value:a[d],onChange:t?function(e){return c(Object(O.a)({},d,e))}:null})),(i||o)&&l.a.createElement("div",null,l.a.createElement("hr",null),l.a.createElement("div",{className:"d-flex gap-3"},i&&l.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:i},l.a.createElement("i",{className:"bi bi-arrow-left"})," B\xe0i tr\u01b0\u1edbc"),o&&l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:o},"B\xe0i ti\u1ebfp theo ",l.a.createElement("i",{className:"bi bi-arrow-right"})))))}function qa(e){var t=e.course,a=void 0===t?"basic":t,c=Object(r.useState)(),i=Object(n.a)(c,2),o=i[0],s=i[1];Object(r.useEffect)((function(){v("aicafe/v1/app/course-".concat(a)).then((function(e){return s(Array.isArray(e)?{title:"New Course",lessons:[]}:e)}))}),[a]);var u=Object(r.useState)(o),d=Object(n.a)(u,2),p=d[0],h=d[1];Object(r.useEffect)((function(){h(o)}),[o]);var f=JSON.stringify(p)!==JSON.stringify(o),b=null!==p&&void 0!==p?p:{},y=b.title,E=b.lessons,w=function(e){return h(Object(te.a)(Object(te.a)({},p),{},{lessons:e}))},x=Object(r.useState)(!1),N=Object(n.a)(x,2),k=N[0],j=N[1];Object(r.useEffect)((function(){if(m()){var e=function(){var e=Math.floor(Date.now()/1e3);if(f)localStorage.setItem(a,e),g("aicafe/v1/app/course-".concat(a,"-time"),{seconds:e}).catch((function(e){return e}));else{var t=localStorage.getItem(a);v("aicafe/v1/app/course-".concat(a,"-time")).then((function(a){return j(a.seconds==t||e-a.seconds>99)}))}};o||f||e();var t=setInterval(e,5e3);return function(){return clearInterval(t)}}}),[f,a]);var O=m()&&k,C=Object(r.useState)(!1),M=Object(n.a)(C,2),S=M[0],T=M[1],D=Object(r.useCallback)((function(){return T((function(e){return!e}))}),[]),F=O&&S,P=Object(r.useState)(!1),L=Object(n.a)(P,2),I=L[0],z=L[1],q=_("course-".concat(a)),A=Object(n.a)(q,2),R=A[0],V=A[1],H=Object.assign({learned:[]},R),U=H.current,W=H.learned,$=(E||[]).filter((function(e){return e.concept})).map((function(e){return e.id})),G=new Set($);W=new Set(W.filter((function(e){return G.has(e)}))),G.has(U)||(U=$[0]);var K=$.indexOf(U);return Object(r.useEffect)((function(){if(!F&&U&&!W.has(U)){var e=setTimeout((function(){W.add(U),V({learned:Array.from(W)})}),1e4);return function(){return clearTimeout(e)}}}),[F,U,W,V]),E?l.a.createElement("div",null,l.a.createElement("h2",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("div",{className:"d-flex align-items-center gap-2"},l.a.createElement(Oa,{className:"text-primary flex-shrink-0",progress:W.size/(G.size||1),size:"2.5rem"}),l.a.createElement(ja,{value:y,onChange:function(e){return h(Object(te.a)(Object(te.a)({},p),{},{title:e}))},editing:F})),O&&l.a.createElement("div",{className:"d-flex"},l.a.createElement("button",{type:"button",className:"btn text-primary",onClick:D},l.a.createElement("i",{className:"bi bi-".concat(S?"eye":"pencil")}),S?" View":" Edit"),f?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"button",className:"btn text-danger",onClick:function(){return h(o)}},l.a.createElement("i",{className:"bi bi-arrow-counterclockwise"})," Discard"),l.a.createElement("button",{type:"button",className:"btn text-primary",onClick:function(){s(p),g("aicafe/v1/app/course-".concat(a),p).catch((function(e){return e}))}},l.a.createElement("i",{className:"bi bi-save"})," Save")):l.a.createElement("button",{type:"button",className:"btn text-primary",onClick:function(){window.confirm("Are you sure you want to publish this course?")&&(z(!0),g("aicafe/v1/app/course-".concat(a,"-public"),p).catch((function(e){return e})).finally((function(){return z(!1)})))},disabled:I},I?l.a.createElement("div",{className:"spinner-border spinner-border-sm"}):l.a.createElement("i",{className:"bi bi-cloud-arrow-up"})," Public"))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-4 col-lg-3 mb-4"},l.a.createElement("ul",{className:"nav nav-pills flex-column position-relative"},l.a.createElement(Ta,{editing:F,lessons:E,setLessons:w,current:U,learned:W,setConfig:V}),F&&l.a.createElement("li",{className:"nav-item",onClick:function(){return w([].concat(Object(B.a)(E),[{title:"",id:Math.max.apply(Math,[0].concat(Object(B.a)(E.map((function(e){return e.id})))))+1}]))}},l.a.createElement("div",{className:"nav-link"},l.a.createElement("i",{className:"bi bi-plus-circle"})," Th\xeam b\xe0i h\u1ecdc")))),l.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},U&&l.a.createElement(za,{editing:F,lesson:E.find((function(e){return e.id===U})),setLesson:function(e){return w(E.map((function(t){return t.id===U?Object(te.a)(Object(te.a)({},t),e):t})))},onPrev:K>0?function(){return V({current:$[K-1]})}:null,onNext:G.size&&K<G.size-1?function(){return V({current:$[K+1]})}:null})))):l.a.createElement(vt,null)}var Aa=a(45),Ra=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;if(Object(C.a)(this,a),(n=t.call(this,e)).state={list:p(),video:0},!n.state.list)return Object(Aa.a)(n);if(n.getSettingsSync()){var r=n.getSettingsSync("video");r<n.state.list.length&&(n.state.video=r)}else n.getSettings("video",(function(e){e&&e!==n.state.video&&e<n.state.list.length&&n.setState({video:e})}));return n}return Object(M.a)(a,[{key:"changeVideo",value:function(e){this.state.video!==e&&(this.saveSettings({video:e}),this.setState({video:e}))}},{key:"render",value:function(){var e=this;return this.state.list?l.a.createElement("div",null,l.a.createElement("h2",null,h()),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-3 col-lg-2"},l.a.createElement("ul",{className:"nav nav-pills flex-column"},this.state.list.map((function(t,a){return l.a.createElement("li",{className:"nav-item",onClick:function(){return e.changeVideo(a)},key:a},l.a.createElement("a",{className:e.state.video===a?"nav-link active":"nav-link",href:"#/videos"},t[0]))})))),l.a.createElement("div",{className:"col-12 col-md-9 col-lg-10"},l.a.createElement(Fa,{vid:this.state.list[this.state.video]})))):null}}]),a}(q),Ba=window,Va=Ba.jStat,Ha=Ba.dfd;function Ua(e){var t=e.tickers,a=e.df,n=e.config,r={},l=!1;if(t=t.map((function(e){return e.value})),a&&(t=t.filter((function(e){return a.columns.includes(e)}))),t.length&&a){r.prices=a.loc({columns:t});var c=(a=r.prices.apply_map(Math.log).dropna(0)).sub(new Ha.DataFrame([a.values[0]].concat(a.values.slice(0,-1)),{columns:a.$columns}));r.rets=c;var i=n.volTarget/c.columns.length/Math.sqrt(252e4)/2,o=c.rolling(n.window).apply((function(e){return e.columns.map((function(t){var a=ee(e[t].$data);return a?i/a:0}))}));r.weights=o,o=new Ha.DataFrame([o.values[0]].concat(Object(B.a)(o.values.slice(0,-1))),o),(c=c.apply_map(Math.expm1).mul(o).apply(Va.sum,{axis:0}).dropna().add(1)).values[0]=1,l=c.cumprod()}return r.ec=l,r}function Wa(){return l.a.createElement(la,{title:"Inverse Semi-Deviation",type:"isd",ec:Ua})}var $a=[{icon:"circle-half",title:"T\u1ef1 \u0111\u1ed9ng"},{icon:"sun-fill",title:"S\xe1ng"},{icon:"moon-stars-fill",title:"T\u1ed1i"}];function Ga(e){var t=e.dark,a=e.onChange;return l.a.createElement("div",{className:"dropdown text-primary"},l.a.createElement("div",{className:"dropdown-toggle p-2 show",role:"button","data-bs-toggle":"dropdown"},l.a.createElement("i",{className:"bi bi-".concat(($a[t]||$a[0]).icon)})),l.a.createElement("ul",{className:"dropdown-menu dropdown-menu-end shadow"},[1,2,0].map((function(e){return l.a.createElement("li",{key:e,onClick:function(){return e!==+t&&a(e)}},l.a.createElement("button",{className:"dropdown-item d-flex align-items-center ".concat(e===+t?"active":"text-primary")},l.a.createElement("i",{className:"bi bi-".concat($a[e].icon)}),l.a.createElement("span",{className:"mx-2"},$a[e].title)))}))))}var Ka=function(){return l.a.createElement(qa,{course:"python"})};function Ja(){var e=_("collapse"),t=Object(n.a)(e,2),a=t[0],o=t[1],s=_("dark"),u=Object(n.a)(s,2),d=u[0],p=u[1],f=Object(r.useState)(window.innerWidth),v=Object(n.a)(f,2),g=v[0],y=v[1];Object(r.useEffect)((function(){var e;function t(){clearTimeout(e),e=setTimeout((function(){return y(window.innerWidth)}),32)}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var E=d?!(d-1):window.matchMedia&&matchMedia("(prefers-color-scheme: light)").matches,N=E?"light":"dark",k=g<768,j=!a||k,O=function(){var e=document.querySelector(".menu");e.classList.contains("d-none")||!k?e.classList.remove("d-none"):e.classList.add("d-none")};document.querySelector("html").dataset.bsTheme=N;var C=[{to:"/",bi:"graph-up-arrow",title:"Th\u1ecb tr\u01b0\u1eddng",Com:Dt},{to:"/stocks",bi:"bar-chart",title:"C\u1ed5 phi\u1ebfu",Com:Ft},{to:"/portfolio",bi:"pie-chart",title:"Danh m\u1ee5c",Com:la,lock:!0},{to:"/inverse-volatility",bi:"asterisk",title:"Inverse volatility",Com:ua,lock:!0},{to:"/inverse-semi-dev",bi:"layers-half",title:"Inverse semi-dev",Com:Wa,lock:!0},{to:"/erc",bi:"view-stacked",title:"ERC",Com:va,lock:!0},{to:"/mvo",bi:"grid-1x2",title:"MVO",Com:xa,lock:!0},h()&&{to:"/videos",bi:"collection-play",title:h(),Com:Ra,lock:!0},{to:"/course",bi:"mortarboard",title:"Kho\xe1 h\u1ecdc",Com:qa,lock:!0},m()&&{to:"/code",bi:"journal-code",title:"H\u1ecdc code ph\xe2n t\xedch",Com:Ka}].filter(Boolean);return l.a.createElement(c.a,null,l.a.createElement("div",{className:"menu d-flex flex-column flex-shrink-0 p-".concat(j?3:2," bg-").concat(N,"-subtle").concat(k?" d-none":""),style:k?{position:"fixed",zIndex:99999,width:"100%",height:"100%"}:{width:j?"20%":"64px"}},k?l.a.createElement("div",null,l.a.createElement("div",{className:"btn fs-5",onClick:O},l.a.createElement("i",{className:"bi bi-x-circle"}),"\xa0\xa0AI Cafe\xb9")):l.a.createElement("div",{className:j?"d-flex align-items-center":""},l.a.createElement("a",{href:"/",className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-".concat(E?"dark":"light"," text-decoration-none").concat(j?"":" p-2")},l.a.createElement("img",{src:"https://vnqa.aicafe.one/favicon.ico",width:"32",height:"32",alt:"AI Cafe\xb9"}),j&&l.a.createElement(l.a.Fragment,null,"\xa0",l.a.createElement("span",{className:"fs-4"},"AI Cafe\xb9"))),l.a.createElement(Ga,{dark:d,onChange:p})),l.a.createElement("hr",null),l.a.createElement("ul",{className:"nav nav-pills flex-column mb-auto",onClick:O},C.map((function(e){var t=e.to,a=e.bi,n=e.title,r=e.lock;return l.a.createElement("li",{key:t,className:"nav-item"},l.a.createElement(c.b,{to:t,exact:"/"===t,className:"nav-link"},l.a.createElement("i",{className:"bi bi-".concat(a)}),j&&l.a.createElement(l.a.Fragment,null,"\xa0 ",n,r&&l.a.createElement(b,null))))}))),!k&&l.a.createElement("ul",{className:"nav nav-pills flex-column"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{className:"nav-link",onClick:function(){return o(+j)}},l.a.createElement("i",{className:"bi bi-arrow-".concat(j?"left":"right","-circle-fill")}),j&&l.a.createElement(l.a.Fragment,null,"\xa0 Thu nh\u1ecf")))),l.a.createElement("hr",null),l.a.createElement(x,{expand:j,light:E})),l.a.createElement("div",null,l.a.createElement(ze,null)),l.a.createElement("div",{style:k?{overflowY:"scroll"}:{overflowY:"scroll",width:j?"80%":"calc(100% - 64px)"}},l.a.createElement("div",{className:"px-3 py-3",style:{minHeight:"calc(100vh - 4em)"}},k&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},l.a.createElement("h1",{onClick:O,style:{cursor:"pointer"}},l.a.createElement("i",{className:"bi bi-list"}),"\xa0",l.a.createElement("span",null,"AI Cafe\xb9")),l.a.createElement(Ga,{dark:d,onChange:p})),l.a.createElement("hr",null)),l.a.createElement(i.c,null,C.reverse().map((function(e){var t=e.to,a=e.Com,n=e.lock;return l.a.createElement(i.a,{key:t,path:t},n?l.a.createElement(w,{Com:a}):l.a.createElement(a,null))})))),l.a.createElement("footer",{className:"bd-footer py-3"},l.a.createElement("div",{className:"px-3 d-flex flex-wrap"},l.a.createElement("div",{className:"col-md-8 d-flex align-items-center fst-italic"},"*L\u01b0u \xfd: Website n\xe0y l\xe0 \u1ee9ng d\u1ee5ng ph\xe2n t\xedch d\u1eef li\u1ec7u, kh\xf4ng khuy\u1ebfn ngh\u1ecb \u0111\u1ea7u t\u01b0. Ch\xfang t\xf4i kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m tr\u01b0\u1edbc m\u1ecdi r\u1ee7i ro n\xe0o do s\u1eed d\u1ee5ng website n\xe0y."),l.a.createElement("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex"},l.a.createElement("li",null,l.a.createElement("a",{href:"https://aicafe.one/",className:"text-decoration-none text-reset"},"Copyright \xa9 2021-",(new Date).getFullYear()," AI Cafe\xb9")),l.a.createElement("li",{className:"ms-3"},l.a.createElement("a",{href:"https://aicafe.one/privacy-policy/",className:"text-decoration-none text-reset"},"Privacy policy"))))),l.a.createElement(Me,null)))}s.a.render(l.a.createElement(Ja,null),document.getElementById("root"))},50:function(e,t,a){e.exports=a.p+"static/media/robot.6d18f5be.svg"},95:function(e,t,a){e.exports=a(216)}},[[95,1,2]]]);